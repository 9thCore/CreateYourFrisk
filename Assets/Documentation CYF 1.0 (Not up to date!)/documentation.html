<!DOCTYPE html>
<!-- 
since you're here anyway: there's a small easter egg on the text commands page but it's probably not worth finding, sorry
you may notice this page's code is garbage: i'm not a web designer! ;-;
it's w3c valid, at least 
-->

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <title>UNITALE Documentation</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="css/themesidebar.css" rel="stylesheet">
    <link href="css/shThemeRDark.css" rel="stylesheet">

    <!-- Syntax highlighting -->
    <script type="text/javascript" src="js/shCore.js"></script>
    <script type="text/javascript" src="js/shBrushLua.js"></script>
    <script type="text/javascript">SyntaxHighlighter.all();</script>
</head>
<body>
<img src="img/bg2.png" alt="Undertale background" class="backimg">
<div class="container arena black">
    <div class="col-md-2">
        <!--navigation-->
        <nav class="nav-sidebar">
            <ul class="nav tabs">
                <li class="li-header">Basics</li>
                <li class="active"><a href="#welcome" data-toggle="tab">Welcome</a></li>
                <li class=""><a href="#howtoreadthisdocumentation" data-toggle="tab">How to read this documentation</a></li>
                <li class=""><a href="#controls" data-toggle="tab">Controls</a></li>
                <li class=""><a href="#basic" data-toggle="tab">Basic setup</a></li>
                <li class=""><a href="#terms" data-toggle="tab">Terminology</a></li>
                <li class="li-header">API</li>
                <li class=""><a href="#api-text" data-toggle="tab">Text commands</a></li>
                <li class=""><a href="#api-events" data-toggle="tab">Game events</a></li>
                <li class=""><a href="#api-functions" data-toggle="tab">Functions &amp; Objects</a></li>
                <li class=""><a href="#api-projectile" data-toggle="tab">Projectile management</a></li>
                <li class=""><a href="#api-animation" data-toggle="tab">Sprites &amp; Animation</a></li>
                <li class=""><a href="#api-keys" data-toggle="tab">Key List</a></li>
                <li class="li-header">Create Your Frisk's new features</li>				
                <li class=""><a href="#cyf-inventory" data-toggle="tab">The Inventory System</a></li>
                <li class=""><a href="#cyf-ppcollision" data-toggle="tab">The Pixel-Perfect Collision System</a></li>
                <li class=""><a href="#cyf-text" data-toggle="tab">The Text Object</a></li>
                <li class="li-header">Overworld</li>
                <li class=""><a href="#overworld" data-toggle="tab">Basics</a></li>
                <li class=""><a href="#overworld-howto-map" data-toggle="tab">How to create a map</a></li>
                <li class=""><a href="#overworld-howto-event" data-toggle="tab">How to create an event</a></li>
                <li class=""><a href="#overworld-howto-animevent" data-toggle="tab">How to animate an event</a></li>
                <li class=""><a href="#overworld-object-general" data-toggle="tab">The General Object</a></li>
                <li class=""><a href="#overworld-object-event" data-toggle="tab">The Event Object</a></li>
                <li class=""><a href="#overworld-object-player" data-toggle="tab">The Player Object</a></li>
                <li class=""><a href="#overworld-object-screen" data-toggle="tab">The Screen Object</a></li>
                <li class=""><a href="#overworld-object-inventory" data-toggle="tab">The Inventory Object</a></li>
                <li class="li-header">Resources</li>
                <li class=""><a href="media/dialogoptions.png">Dialog bubble names</a></li>
            </ul>
        </nav>
    </div>
    <!--tabs'n'shit-->
    <div class="tab-content col-md-10">
        <div class="tab-pane active text-style" id="welcome">
            <h2>Welcome to Create Your Frisk's documentation!</h2>
			
					
            <p><span style="color:#ff0000">NOTE:</span> There will be casual <span style="color:#ff0000">spoilers</span>
                all over the place. If you haven't played or completed Undertale yet, it's very recommended that you do
                so first! Don't say you weren't warned.<br>
                <br>
				If you want to see CYF's changes, go to the section "Added Features".
				<br><br>
                You probably want to get right in, so let's keep it short. Honestly, the fastest way to get started is
                to check out the existing encounters and tinker with them. The documentation is for reference if you
                want to know the specifics of everything. Help is provided on the <a
                        href="http://www.reddit.com/r/Unitale">/r/Unitale subreddit</a>. These are the categories on the
                left, and what to expect in them:<br>
				<ul>
				    <li>It flips sprite.isactive: in 0.2.1a, this value is reversed.</li>
				    <li>In 0.2.1a, bullets aren't deleted after the end of a wave, and this is a cause of "memory leaks", bugs that makes sprites disappear etc.
					    <br>Now, without retromode, all bullets are erased after the end of a wave, except the ones with the value bullet.isPersistent set to true.
						<br>If the mod you wanted to try uses persistent bullets, you should consider playing it with retromode.</li>
				</ul>
                <br>
				<span style="color:#ff0000">FOR CYF COMPATIBILITY</span>: You have to add those two lines in the EncounterStarting() function: 
				<br>Inventory.AddCustomItems({"Dogtest1", "Dogtest2", "Dogtest3", "Dogtest4", "Dogtest5", "Dogtest6", "Dogtest7"}, {3, 3, 3, 3, 3, 3, 3})
                <br>Inventory.SetInventory({"Dogtest1", "Dogtest2", "Dogtest3", "Dogtest4", "Dogtest5", "Dogtest6", "Dogtest7"})
				<br>Of course, if your encounter already uses an item system, you have to replace the names and the effects.
				<br>0 for consumable, 1 for weapon, 2 for armor and 3 for special
				<br><br>
				<span style="color:#ff0000">FOR BACKWARD COMPATIBILITY</span>: You can use the retromode in the modDev mode. 
                It's not perfect, but it's better than nothing, I guess.
				<br><br>
                <i>Basic setup</i><br>
                Details folder structure of mods, how the game reads folders and expects files, that kind of stuff.
                Recommended to start with.<br>
                <br>
                <i>Terminology</i><br>
                This is a short page on how what things are called in the documentation. For instance, the white box
                that the bullet dodging occurs in is referred to as the &quot;arena&quot;. Recommended read so you don't
                get lost in later parts of the documentation.<br>
                <br>
                <i>API - Text commands</i><br>
                This is where all the special commands are that you can use in your dialogue boxes. Text effects,
                colours, character voices, automatic skipping, you name it. You can even add commands to run Lua
                code!<br>
                <br>
                <i>API - Game events</i><br>
                If you want to get your hands dirty with Lua, these are the functions the game will use from your
                script, and at what point they're used. Useful for if you want to have certain events occur during
                specific times, such as before/after using an act command or item, or just before the fight starts. A
                must-read for interactive fights.<br>
                <br>
                <i>API - Functions &amp; Objects</i><br>
                These are most custom functions and objects that you can use in your scripts, detailing how to use them
                and what they do. Want to control the music, check for game events or handle keyboard input? Global
                variables so you can communicate between scripts? Need to know how much HP the player has, damage them,
                heal them? This is where to go! Projectile management and sprite management are split off into separate
                sections below.<br>
                <br>
                <i>API - Projectile management</i><br>
                This is where you can read details about how to create projectiles, what you can do with them and some
                short examples.<br>
                <br>
                <i>API - Sprites &amp; Animation</i><br>
                This section is about creating sprites and how to control them. By combining the sprite functions, you
                can create animations.<br>
                <br>
                <i><span style="color:#ffff00">&ltCYF&gt </span>API - Key List</i><br>
                This section shows you the list of keys available for Input.GetKey(key) and [waitfor:key]<br>
                <br>
                <i><span style="color:#ffff00">&ltCYF&gt </span>Added features</i><br>
                Pretty exhaustive list of things that I added in CYF. However, you know me: some things may be forgotten.<br>
                <br>
                <i><span style="color:#ffff00">&ltCYF&gt </span>The Inventory System</i><br>
                This section shows you how CYF's Inventory System works. Get rid of the dogtests! <br>
                <br>
                <i><span style="color:#ffff00">&ltCYF&gt </span>The Pixel-Perfect Collision System</i><br>
                This section shows you how CYF's Pixel-Perfect Collision System works. Why would you use square hitboxes when 
				you have a system like this?
				<br>
                <i><span style="color:#ffff00">&ltCYF&gt </span>Overworld - Basics</i><br>
                Explains how CYF's Overworld broadly works.<br>
                <br>
                <i><span style="color:#ffff00">&ltCYF&gt </span>Overworld - Functions</i><br>
                Shows the complete list of Overworld functions that can be used in events.<br>
                <br>
            </p>
        </div>
        
        <div class="tab-pane text-style" id="howtoreadthisdocumentation">
            <h2>How to read this documentation</h2>
            <p>After some problems due to people not reading the correctly documentation, I decided to create this little tutorial.</p>
            <p>Maybe you saw something in the documentation that looks like this:</p>
            <p><span class="term">Screen.DispImg(string path, int ID, float posX, float posY, int toneR = 255, int toneG = 255, int toneB = 255, int toneA = -1)</span></p>
            <p>There are several things to know here. First of all, the arguments have a type and a name. The name really is here just to help you to know what the variable is, 
               you don't really have to care about it. However, the type is important, it determines what kind of variable you'll need to send.<br>
               In this example, "string" is a character chain, i.e. "hello", "int" is an integer, i.e. 4 and "float" is a number, i.e. 3.6 or -2. </p>
            <p>Last and not least about functions, you can see that some of these variables have a value after it: it's the value's default value: that permits you to use the 
               function without needing to give that argument.<br>
               In our example, that means that you can call Screen.DispImg("poseur", 1, 320, 240) at minimum, and you can add the other values if you want to add them.<br>
               However, if you need to set toneB in our example, you need to set toneR and toneG before it. If you want to keep the default values, just enter these:P<br>
               So if we want to fully call this function and set toneA to 255, we have to call it like that: Screen.DispImg("poseur", 1, 320, 240, 255, 255, 255, 255)</p>
            <p>Finally, if you're a fan of Unitale and want to use it anyway but still use this documentation, all the variables or functions with this tag: 
               <span style="color:#ffff00">&ltCYF&gt </span> are only usable in CYF.</p>
            <p>Now that you know how to read the documentation, you should keep reading! It'd be too bad to stop now :P</p>
        </div>

        <div class="tab-pane text-style" id="controls">
            <h2>Controls</h2>
            <p><span class="term">Arrow keys, Z (or Enter), X (or left/right Shift)</span> - The same as in Undertale.
            </p>
            <p><span class="term">Esc</span> - Resets to the Mod Selection screen to assist in quickly testing mods.
                Will not work on the disclaimer/Game Over screen. <br><span style="color:#ffff00">&ltCYF&gt </span>(disabled if the encounter has "unescape" to true)</p>
            <p><span class="term">F9</span> - Toggles the debug console. Currently, you can write text to this with
                DEBUG("your text here") in your scripts.</p>
            <p><span class="term">Alt+Enter</span> - Fullscreens the game. F4 works too, but not on the disclaimer/Game
                Over screens.</p>
			<p><span class="term"><span style="color:#ffff00">&ltCYF&gt </span>H</span> - In a battle, this shows the hitboxes of the bullets and the player.</p>
        </div>

        <div class="tab-pane text-style" id="basic">
            <h2>Basic setup</h2>
            <p>IMPORTANT NOTE: Due to the hasty implementation of file loading, your encounter will currently break if
                certain folders are missing. To make sure this doesn't happen, please preserve the folder structure of
                the example mods, <i>even if you have no files in a certain folder.</i> It's an early alpha and we're
                working on it!</p>

            <p>By this point you'll probably want to set up an encounter of your own. Right now, we only have encounters
                implemented, and even that's still a work in progress! Planning ahead for the future, scripts will
                eventually be set up as follows:</p>
            <ul>
                <li>Monster scripts - will contain information about your enemies. Here, you'll set things like their
                    ATK, DEF, HP, random comments that might show up as encounter texts, random dialogue, and what ACT
                    commands they have.
                </li>
                <li>Encounter scripts - will contain a set of monsters, a set of wave scripts (that you can modify at
                    any point), size of the arena, custom interactions for items, etc. <br>
                    <br>
                    A lot of Unitale's functions will be run on the Encounter scripts first. If there's no custom
                    behaviour on the encounter, many of these functions will then also be run on the Monster scripts.
                    More information on this can be found in the API - Game events section.
                </li>
                <li>Wave scripts - will contain an update function. You may use these to spawn, track, modify and
                    otherwise interact with bullets during the defending phase of the game.
                </li>
            </ul>
            <p>Eventually, you will be able to call up your encounter scripts from various places in the overworld.
                Seeing as we are missing an overworld, the current alpha of the game lets you select which encounter you
                want to play.</p>
            <hr>
            <h3>Files and directories</h3>
            <p>It's fairly self-explanatory. If you just want to move on fast, feel free to skip this section and go to
                the next one. If for any reason some of your files don't work, you might want to read this anyway.</p>
            <h4>Scripts</h4>
            <p>The <i>Encounter scripts</i> are located in <i>YOUR MOD/Lua/Encounters/</i>. The <i>Monster scripts</i>
                are in <i>YOUR MOD/Lua/Monsters/</i>, and your wave scripts at <i>YOUR MOD/Lua/Waves/</i>. If you're
                getting started, check out these files in example encounters to see how they're put together. Starting
                from 0.2, there's also an optional <i>YOUR MOD/Lua/Libraries/</i> folder. You can put libraries other
                people have made in here (or create your own) for use in your other scripts. Libraries/modules are more
                Lua functionality than they are Unitale functionality, so please read up about them <a
                        href="http://lua-users.org/wiki/ModulesTutorial">here</a> instead. There is an example encounter
                included making use of one such library. Plus, the overworld permits you to have <i>Event scripts</i> 
                located in <i>YOURMOD/Lua/Events/</i> if you want to use the overworld.</p>
            <h4>Music</h4>
            <p>Music can be put in <i>YOUR MOD/Audio/</i>. Your music must be in .ogg or .wav format. <a
                    href="http://audacityteam.org/download/">Audacity</a> can export to .ogg if you're missing the
                appropriate software.</p>
            <h4>Sounds</h4>
            <p>Sounds can be put in <i>YOUR MOD/Sounds/</i>. They must be in .ogg or .wav format. You can play them with
                <i>Audio.PlaySound(filename)</i>; more on this in <i>API - Functions &amp; Objects</i>.</p>
            <h4>Voices</h4>
            <p>Voices can be put in <i>YOUR MOD/Voices/</i>. They must be in .ogg or .wav format, although .wav is
                generally recommended. You can use them with the [voice] text command; more on this in <i>API - Text
                    commands</i>.</p>
            <h4>Sprites</h4>
            <p>Sprites can be put in <i>YOUR MOD/Sprites/</i>. They must be in the .png format. Note that most vanilla
                Undertale monster sprites start with a small base resolution, then resize the sprite to 2x its original
                resolution for an oldschool look. To <i>add a background</i> you can have one file titled <i>bg.png</i>
                in the sprites folder. This image will stretch over the entire background, so 640x480 resolution is
                recommended. This is <i>not</i> the final solution for backgrounds; it just beats not having one.</p>
            <hr>
            <h3>The Default directory</h3>
            <p>Starting from 0.2 Unitale now has a default directory. This is where resources from Undertale reside. It
                is not advised to modify files in this directory, as they are expected to be the same across all
                installations. <br><br>If you wish to replace any of the files for your mod, create a file with the same
                name at the same location instead. For instance, if you want to change the player soul hurt sound, don't
                replace <i>Default/Sounds/hurtsound.wav</i>. Instead, create a new file located at <i>YOUR
                    MOD/Sounds/hurtsound.wav</i>.</p>
            <hr>
            <h3>Basic variables and their usage</h3>
            <p>Now that all of that's out of the way, it's time to set up the basics of an encounter! The fastest way to
                get started is to copy the 'Encounter Skeleton' mod and play with the values in it, then either copying
                over existing examples' code, or writing your own. This section serves to explain the variables you
                see.</p>
            <h4>Encounter script variables</h4>
            <div class="code-container">
<pre class="brush: lua;">music = "yourmusicname_without_extension"
encountertext = "Vegetoid came out of\rthe earth!"
nextwaves = {"bullettest_wavy", "bullettest_homing"}
wavetimer = 4.0
arenasize = {155, 130}

enemies = { "vegetoid" }

enemypositions = {
{0, 50},
{-70, 30},
{70, 30}
}

</pre>
            </div>
            <p>music - Name of your encounter's starting music, without the file extension. If this variable isn't
                present, it'll play Undertale's default battle theme. If you don't want any music, call
                <i>Audio.Stop()</i> in the <i>EncounterStarting()</i> function. For more information see <i>API - Game
                    events</i>.</p>
            <p>encountertext - Set the initial text of your encounter here. After that, you can modify it at any time in
                preparation for the next turn. <i>encountertext</i> gets read out at the start of every new turn (i.e.
                you going back to the FIGHT/ACT/ITEM/MERCY selection).</p>
            <p>nextwaves - A list of all simultaneous attack waves you want when the monsters start their attacks. You
                can modify this at any time, and it'll get read out before the enemies start their attack. For most
                boss-type encounters, you'll likely only want one wave simultaneously - but you can get creative
                here.</p>
            <p>wavetimer - How long it takes for the defending step to end. If this isn't set anywhere, it'll be the
                default <i>4.0 seconds</i>.</p>
            <p>arenasize - The inner size of the box the player's constrained to. {155, 130} is the default size for a
                lot of basic Undertale encounters. Papyrus' battle, for instance, has this at {245, 130} most of the
                time. You may modify this at any time - it'll only get read out before the enemies start their
                attack.<br>
                Note: lowest possible setting is {16, 16} - this is the size of the player's soul. Anything lower will
                be set to 16 anyway.</p>
            <p>enemies - Defines the names of your enemy scripts that will be used in your encounter. In this example.
                <i>vegetoid.lua</i> will be used from the Monsters folder. After initialization, the names will be
                replaced by Script controller objects you can use to control your monster scripts. Refer to <i>API -
                    Functions &amp; Objects</i> for more information.</p>
            <p>enemypositions - Defines where the enemies are on the screen. {0, 0} means they're centered just above
                the arena, with 1 pixel of space inbetween. {-30, 0} means above the arena to the left; {50, 80} means
                50 pixels to the right and 80 pixels above that center.<br>
                You will always need at least as many enemy positions as enemies in your encounter. In this example we
                have 3 enemy positions set to show you how you can define more than one, but since this example only
                contains Vegetoid you only really need one position.</p>
			<p><span style="color:#ffff00">&ltCYF&gt </span>autolinebreak - False by default. If this value is set to 
                true, the auto linebreak system will automatically add line breaks (\r) to the text. No need to use \r 
                or \n anymore!</p>
			<p><span style="color:#ffff00">&ltCYF&gt </span>playerskipdocommand - False by default. If this value is 
                set to true, the text commands will be launched even if the player skips the text, except [w] and 
                [letters] commands, and commands with the tag "skipover".</p>
			<p><span style="color:#ffff00">&ltCYF&gt </span>unescape - False by default. If this value is set to true, you can't exit the battle with the ESC 
				key anymore.</p>
			<p><span style="color:#ffff00">&ltCYF&gt </span>flee - True by default. If this value is set to false, the flee option will not be selectable anymore.</p>
			<p><span style="color:#ffff00">&ltCYF&gt </span>revive - If this variable is set to true, the player will be revived when he'll hit 0 HP.</p>
			<p><span style="color:#ffff00">&ltCYF&gt </span>deathtext - Text displayed hen the player dies, in the Game Over screen. Per default, it'll use the normal death text.<br>
			                                                            Is used as the revive text too. Per default, there will be no revive text.</p>
			<p><span style="color:#ffff00">&ltCYF&gt </span>deathmusic - Sets the death music. The music is launched if there is no revive.</p>
			<p><span style="color:#ffff00">&ltCYF&gt </span>Wave - A table returning the current wave scripts used. Returns a table with a length of 0 if not in the state DEFENDING.</p>
			
            <hr>
            <h4>Monster script variables</h4>
            <div class="code-container">
<pre class="brush: lua;">comments = {"Vegetoid cackles softly.", "Vegetoid's here for your health."}
commands = {"Talk", "Devour", "Dinner"}
randomdialogue = {"Fresh\nMorning\nTaste", "Farmed\nLocally,\nVery\nLocally"}
currentdialogue = {'Eat\nYour\nGreens'}
cancheck = true
canspare = false

sprite = "vegetoid_sprite"
dialogbubble = "rightshort"
name = "Vegetoid"
hp = 20
atk = 6
def = 6
xp = 6
gold = 1
check = "Serving Size: 1 Monster\nNot monitored by the USDA"</pre>
            </div>
            <p>comments - A list of random comments attached to this monster. You can retrieve one at random using the
                RandomEncounterText() function in your Encounter script. See <i>API - Functions &amp; Objects</i> for
                details.</p>
            <p>commands - A list of ACT commands you can do. Listed in the ACT menu and used in HandleCustomCommand().
                See <i>API - Game events</i> for details. Note that the behaviour for Check is built-in, and shows you
                the monster's <i>name</i> followed by the <i>ATK</i> and <i>DEF</i>, and then the <i>check</i> variable
                you'll see all the way down.</p>
            <p>randomdialogue - A list of random dialogue the monster can have. One of these is selected at random if
                <i>currentdialogue</i> is <i>nil</i> (i.e. has no value).</p>
            <p>currentdialogue - The next dialogue for this monster. This overrides the random dialogue and is meant for
                special actions (e.g. you hit Vegetoid's green carrots after selecting Dinner from the ACT menu). This
                variable gets <i>cleared every time after it's read out in the monster dialogue phase</i>. This is done
                so you don't have to take care of managing it manually.</p>
            <p>cancheck - Either true or false. You can leave this line out; it will be true by default. If set to
                false, it will disable the default Check action that shows up in your ACT menu. If you want a custom
                Check action, you can add it back into your <i>commands</i> table, and handle it like any other custom
                command. See <i>API - Game events</i> for details.</p>
            <p>canspare - Either true or false. If you leave this line out, it'll be set to false by default. If you
                change this to true, your monster's name will turn yellow and it will be spareable.</p>
            <br>
            <p>sprite - Name of the sprite in your Sprites folder, without the .PNG extension. This is the initial
                sprite for your monster. It can be changed using SetSprite(name); see <i>API - Functions &amp; Objects</i> for details.</p>
            <p><span style="color:#ffff00">&ltCYF&gt </span>monstersprite - Sprite handler of the monster.
            <p>dialogbubble - What dialogue bubble will be used for the monster's dialogue. You can change this at any
                time, but this <i>must</i> be initially set to something. For a list of all possible options, check the
                <a href="media/dialogoptions.png">dialog bubble names</a> chart; it's also in the sidebar.</p>
                Positioning of the bubbles is done automatically.
            <p>name - Monster name. Fairly self-explanatory; shows up in the FIGHT/ACT menus. Can also be changed at any
                time.</p>
            <p>hp - Your monster's max HP, initially. After the fight has started this value will always accurately
                reflect your monster's current HP. You can then modify this value to change your monster's current
                HP.</p>
            <p><span style="color:#ffff00">&ltCYF&gt </span>maxhp - Your monster's max HP. After the fight has started this value will be always the same, unless you 
			change it. It is mainly used for lifebars and such. You better not set it as 0 or as a negative number, 
			though.</p>
            <p>atk - Your monster's ATK. Only used in the default Check handler; bullet damage is set through wave
                scripts. If you're not using the default Check you can leave this out.</p>
            <p>def - Your monster's DEF.</p>
            <p>xp - Your monster's XP upon actually defeating them. You only get this by killing the monster.</p>
            <p>gold - Gold you get from either killing or sparing this monster. Since the gold can change based on
                whether you kill or spare the monster, you can modify this at any time up until the fight ends.</p>
            <p>check - When checking with the default Check option, this is what's listed under the monster's name, ATK
                and DEF.</p>
            <p><span style="color:#ffff00">&ltCYF&gt </span>unkillable - Set it to true and the monster will not be killed if he has less than 1 HP. However, it can 
				still be killed with Kill().</p>
			<p><span style="color:#ffff00">&ltCYF&gt </span>canmove - The enemies need some init frames to place themselves correctly, so you can't move or unbind the
				enemy's sprite if the init isn't finished. True if you can move the sprite, else false. Actually, now that the battle's launch is delayed, this value 
                is deprecated as it'll always be true.</p>
			<p><span style="color:#ffff00">&ltCYF&gt </span>posx - The x position of the center of the enemy's sprite.</p>
			<p><span style="color:#ffff00">&ltCYF&gt </span>posy - The y position of the bottom of the enemy's sprite.</p>
			<p><span style="color:#ffff00">&ltCYF&gt </span>font - The default font used by the monster. Set it to nil if you want to use the normal monster font.</p>
			<p><span style="color:#ffff00">&ltCYF&gt </span>voice - The default voice used by the monster. Set it to nil if you want to use the font's voice.</p>
            <hr>
            
            <h4>Wave script variables</h4>
            <p>Wave scripts don't have any variables that are read out from the start, but you can define your own. An
                instance of a wave script is made when you start defending, and is destroyed when the defending step
                ends. As such, you can't store variables in a wave script for reusing later. Use the Encounter script to
                keep track of things.</p>
        </div>

        <div class="tab-pane text-style" id="terms">
            <h2>Terminology</h2>
            <p><span class="term">arena</span> - The inside of the white box in which the player is allowed to move.</p>
            <p><span class="term">bullet</span> - Everything in a wave that can collide with you. Flowey's pellets would
                be referred to as bullets, but so would Papyrus' bones, anything Woshua can shoot (of any colour), even
                the dancing Migosp.</p>
            <p><span class="term">encounter text</span> - The text that shows up before you've selected FIGHT/ACT/ITEM/MERCY.</p>
            <p><span class="term">monster dialogue</span> - Text from monsters in an encounter, often seen before
                attacking. Can also be multiple dialogue boxes for special encounters.</p>
            <p><span class="term">dialog</span> - A user interface component that contains text. For example, the battle
                dialog window. The distinction between dialog and dialogue is that dialog refers to interface windows
                containing text, and dialogue refers to the speech content of monsters.</p>
            <p><span class="term">wave</span> - A single attack behaviour (or attack 'wave', to say), measured from when
                you start defending until when it stops. Vegetoid's bouncing vegetables attack would count as a wave.
                Papyrus' special Cool Dude attack would also count as a wave. Unitale works with 'wave scripts' for
                attacks; you can use multiple wave scripts at the same time for when you have various monsters.</p>
        </div>

        <div class="tab-pane text-style" id="api-text">
            <h2>Text commands</h2>
            <p>There are <b>two types</b> of text commands: commands that get executed <i>instantly</i>, like text color
                and effects; and commands that get executed <i>inline</i>, as they're displayed, like wait commands and
                character voices. Note that currently, if you skip a text command (with X), it'll also skip all inline
                commands that were still in your text.</p>

            <p>On line breaks: there are actually two different kinds. In <i>UI messages</i> where asterisks are used,
                you can use <b>\n</b> to start a new line <i>with</i> an asterisk. If you want a new line <i>without</i>
                an asterisk, use <b>\r</b>.</p>

            <p>This is different for monster dialogue that isn't prefixed with asterisks: <i>Always</i> use \n for line
                breaks here.</p>

            <h3>Instant commands</h3>
            <p class="exblock">
                <span class="function">[color:rrggbb]</span>
                This sets the text color for all text after this command to the specified hex code. It resets per
                dialogue. [color:ff0000] would be red, [color:555555] a dark grey. The main colours the game uses are as
                follows:</p>
            <table class="table">
                <tr>
                    <td>[color:ff0000]</td>
                    <td><span style="color:#ff0000">Determination</span></td>
                </tr>
                <tr>
                    <td>[color:003cff]</td>
                    <td><span style="color:#003cff">Integrity</span></td>
                </tr>
                <tr>
                    <td>[color:00c000]</td>
                    <td><span style="color:#00c000">Kindness</span></td>
                </tr>
                <tr>
                    <td>[color:ffff00]</td>
                    <td><span style="color:#ffff00">Justice</span></td>
                </tr>
                <tr>
                    <td>[color:d535d9]</td>
                    <td><span style="color:#d535d9">Perseverance</span></td>
                </tr>
                <tr>
                    <td>[color:fca600]</td>
                    <td><span style="color:#fca600">Bravery</span></td>
                </tr>
                <tr>
                    <td>[color:42fcff]</td>
                    <td><span style="color:#42fcff">Patience</span></td>
                </tr>
            </table>
            <p class="exblock">
                If you have to use colours, try to stick to these. While the option for any colour is offered, actual
                usage in Undertale is very limited.<br>
                <br>
                The default UI text is plain white and the default enemy dialogue text is plain black; [color:ffffff]
                and [color:000000] respectively.
            </p>

            <p class="exblock">
                <span class="function">[starcolor:rrggbb]</span>
                Same usage as color but <i>only affects the first asterisk in a dialogue box that has asterisks.</i>
                This is a dirty workaround, but now you don't need it anymore, it's deprecated.<br>
				<span style="color:#ffff00">&ltCYF&gt </span> As now commands are executed before the star, you can use [color] to color the star.
            </p>

            <p class="exblock">
                <span class="function">[instant]</span>
                Instantly shows the entire text without having to wait or press anything.
            </p>

            <p class="exblock">
                <span class="function">[effect:x]</span> or
                <span class="function">[effect:x,intensity]</span>
                Sets the text effect for <i>the entire message, regardless of position</i>. You can use the following
                effects:</p>
            <ul>
                <li>none: No effect on the text.</li>
                <li>rotate: Rotating text, most random monsters have this by default. Intensity sets how far letters
                    rotate, in pixels. Default is 1.5.
                </li>
                <li>shake: Shaking text. Flowey uses this sometimes. Intensity sets how far the letters offset, in
                    pixels. Default is 1.0.
                </li>
                <li>twitch: Letters twitch occasionally, battle UI has this by default. Intensity sets how far a letter
                    should shake. Default is 2.0.
                </li>
            </ul>
            <p class="exblock">
                Note that the twitch effect should, at a later point, let you set shake frequency. Unfortunately you
                can't do this yet.
            </p>

            <p class="exblock">
                <span class="function">[font:x]</span>
                Sets the font for this dialogue. Usually includes a default voice. As the [font] command can change both
                text colour and voice, if you want to have your own voice/text color do it after the font change.
                Possible options:</p>
            <ul>
                <li>uidialog: Default large pixel font for UI.</li>
                <li>monster: Default font for almost all monsters in the game.</li>
                <li>sans: sans. use lowercase. uppercase works, but... sans.</li>
                <li>papyrus: PAPYRUS! USE UPPERCASE ONLY. LOWERCASE WON'T WORK.</li>
                <li>wingdings: Wingdings.</li>
                <li>uibattlesmall: The font used for the character name, HP and level.</li>
                <li>and a lot of others...you can even create your own font!</li>
            </ul>
            <p>For all default fonts, check out the Default/Sprites/UI/Fonts folder. Every font with a matching .xml
                file is mapped.</p>

            <p class="exblock">
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>[charspacing:number]</span>
                Number of pixels that separates the characters on the same line.
            </p>

            <p class="exblock">
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>[linespacing:number]</span>
                Shift of the number of pixels that separates characters on different lines. Negative = upper, Positive = lower
            </p>

            <h3>Inline commands</h3>

            <p class="exblock">
                <span class="function">[noskip]</span>
                Prevents this dialogue from being skipped by pressing X. Has no effect in encounter texts as you don't
                control that. Is effective only at the moment it's launched, so if you want a text to not be skippable at the beginning, use it as 
                the very first command of your text.
            </p>

            <p class="exblock">
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>[noskip:off]</span>
                Cancels a previously launched [noskip] command.
            </p>
            
            <p class="exblock">
                <span class="function">[w:x]</span>
                The wait command. This will pause your textbox for x frames.
            </p>

            <p class="exblock">
                <span class="function">[waitall:x]</span>
                Like the wait command, but applies to all letters after this command. It resets per dialogue. Useful for
                slow text.
            </p>

            <p class="exblock">
                <span class="function">[voice:filename]</span>
                Sets the voice (sound per letter) to a sound located in YOUR MOD/Sounds/Voices. Applies to all letters
                after the command. It resets per dialogue. This has to be a .wav file, and you shouldn't include the
                file extension when using [voice]. If your voice sound is YOUR MOD/Sounds/Voices/mettaton.wav, you can
                use it with [voice:mettaton].<br>
                [voice:default] resets to the default voice (beeps). If you have a voice sound named 'default', it will
                be ignored.</p>

            <p class="exblock">
                <span class="function">[novoice]</span>
                Removes the voice for the letters after this command. It resets per dialogue. 
				<span style="color:#000">Useful for when you should be burning in hell.</span>
            </p>

            <p class="exblock">
                <span class="function">[next]</span>
                Skips to the next dialogue automatically. You can also use this for textbox trickery. Here's an example
                to replicate Flowey's text-changing effect if you dodge the Friendliness Pellets(tm) twice.
            </p>
            <div class="code-container">
   <pre class="brush: lua;">first line:  "[noskip][voice:flowey][effect:none]RUN. [w:30]INTO. [w:30]THE.\n[w:30]BULLETS!![w:30][next]"
second line: "[instant][effect:none]RUN. INTO. THE.\nfriendliness\npellets"</pre>
            </div>

            <p class="exblock">
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>[finished]</span>
                Sets this dialogue box as "finished". To go through the next dialogue box, you'll have to wait until the other 
				monsters' dialogue boxes are finished.
            </p>

            <p class="exblock">
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>[nextthisnow]</span>
                Skips to the next dialogue of all monsters automatically, without caring about the other monsters' dialogue's state.
            </p>

            <p class="exblock">
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>[waitfor:key]</span>
                Waits the user to press the given key to continue the message.
				Check the Key List tab to see the available keys.
            </p>

            <p class="exblock">
                <span class="function">[func:x], [func:x,argument] or <span style="color:#ffff00">&ltCYF&gt </span>[func:x,{argument1, argument2...}]</span>
                The most powerful command. If the previous text commands were established official characters, [func] is
                some kid's deviantArt original character that never dies and has all the superpowers.<br>
                <br>
                In all seriousness, [func] allows you to execute <i>any function from your script in line with the
                text</i>. Refer to the examples below.</p>
            <div class="code-container">
   <pre class="brush: lua;">your dialogue: "hoi hoi this is dog [func:dog] and now the music changed" 
   
function dog()
	Audio.LoadFile("dog_music") 
	--plays dog_music.ogg (or .wav) from your Audio folder! for built-in functions like this, refer to section API - Functions &amp; Objects
	--insert more code here, any code!
end</pre>
            </div>

            <div class="code-container">
   <pre class="brush: lua;">your dialogue: "dog with arguments!! [func:newmusic,temietheme] so intense!" 
   
function newmusic(yourargumentname)
	Audio.LoadFile(yourargumentname) --with this example, it'll load 'temietheme.ogg (or .wav)'...
	--and then play it! THE FUTURE IS NOW! By using an argument, your function can be more versatile.
end</pre>
            </div>
            <p class="exblock">
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>[speed:x]</span>
                Permits to display 'x' characters per frame instead of 1 in the text.
            </p>
            
            <p class="exblock">
            <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>[letters:x]</span>
                Permits to display 'x' characters this frame only.
            </p>
            
            <p class="exblock">
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>[instant:allowcommand]</span>
                The same as [instant], but here other text commands are launched, except [w], [letters] and the ones with the "skipover" tag.
            </p>

            <p class="exblock">
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>[instant:stop]</span>
                Stops a previously launched [instant:allowcommand].
            </p>

            <p class="exblock">
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>[instant:stopall]</span>
                Stops a previously launched [instant:allowcommand] or a player skip.
            </p>
            
            <p class="exblock"> 
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>[name]</span>
                Replaces the function by the name of the player. I totally forgot that we could actually use Player.name, but whatever.
            </p>
            
            <p class="exblock"> 
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>[music:x]</span>
                Plays the music given as an argument on the main music channel, unless the argument is one of these keywords:
                <ul>
                    <li>play = Only plays the last played music, from the beginning.</li>
                    <li>pause = Pauses the music.</li>
                    <li>unpause = Unpauses the music.</li>
                    <li>stop, null, nil or an empty string = Stops the current music.</li>
                </ul>
            </p>
            
            <p class="exblock"> 
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>[sound:x]</span>
                Plays the sound given as an argument.
            </p>
            
            <p class="exblock"> 
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>[mugshot:x]</span>
                Changes the current text mugshot for overworld texts with mugshots only.
            </p>
            
            <p class="exblock"> 
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>[health:x,y]</span>
                Heals the Player of x. Can damage the player if x is negative, but the Player's HP
                will not go under 1 unless certain conditions are met. The parameter y is optional.
                <br><br>
                Use cases:
                <ul>
                    <li>[health:3] => Heals 3 HP.</li>
                    <li>[health:-5] => Damages 5 HP. Doesn't go under 1HP.</li>
                </ul>
                Tags: 
                <ul>
                    <li>x (y unused if these tags are used): 
                        <ul>
                            <li>kill = Kills the Player.</li>
                            <li>Max-1 = Sets the Player's HP at Player's Max HP minus 1.</li>
                            <li>Max = Sets the Player's HP at Player's Max HP.</li>
                        </ul>
                    </li>
                    <li>y: 
                        <ul>
                            <li>killable = The possible HP reduction can now kill the Player.</li>
                            <li>set = The amount of HP given in the first argument will be the Player's current HP.</li>
                        </ul>
                    </li>
            </p>
            
            <h3>Commad tags</h3>
            
            <p><span style="color:#ffff00">CYF Only.</span><br>These tags can be added after a text command and have different behaviours<br>
            To use them, you must do like this: [command:tag] or [command:arguments:tag]. For now, only one tag can be added at a time.</p>
            
            <p class="exblock">
                <span class="function">skipover</span>
                Permits the command to only be launched when the text is not skipped, by using any [instant] command or the player's skip
                if playerskipdocommand is set to true. Has no incidence on [w] and [letters].
            </p>
            
            <p class="exblock">
                <span class="function">skiponly</span>
                Permits the command to only be launched when the text is skipped, by using any [instant] command or the player's skip if 
                playerskipdocommand is set to true. Disables [w] and [letters] commands if used on them.
            </p>
        </div>

        <div class="tab-pane text-style" id="api-events">
            <h2>Game events</h2>
            <p>This section is all about game events. Game events are functions in your scripts that the Unitale engine
                runs at various points in the game. By changing up your behaviour depending on the actions the player
                takes, you can go beyond a basic encounter and make it great.</p>
            <p>There are two kinds of events. We'll refer to them as <i>inherited events</i> and <i>script-specific
                events</i>. An <i>inherited event</i> is a function that gets run first on your Encounter script. If the
                function is not found in the Encounter script, it will try to run the same function on all monsters. If
                it's not found there either, it will resort to a default, built-in handler. <i>Script-specific
                    events</i> are, as the name implies, functions that only happen for this specific script type. We'll
                start with the first type.</p>
            <hr>
            <h3>Inherited events (Encounter -> Monster)</h3>
            <p>
                <span class="function">EncounterStarting()</span>
                Happens once when everything's done initializing but before any encounter actions start. You should do
                things like stopping the music here, or using State() if you want to start the fight off with some
                dialogue.
            </p>
            <p>
                <span class="function">EnemyDialogueStarting()</span>
                Happens when you go to the monster dialogue state. You're still free to modify monster dialogue here.
            </p>
            <p>
                <span class="function">EnemyDialogueEnding()</span>
                Happens when you go from the monster dialogue state to the defending state.
            </p>
            <p>
                <span class="function">DefenseEnding()</span>
                Happens when you go from the defending state of the game to any other state. If you read up on the
                RandomEncounterText() function, you'll want to use it here.
            </p>
            <div class="code-container">
  <pre class="brush:lua;">
function HandleItem(ItemID)
	if ItemID == "DOGTEST2" then
		BattleDialog({"You selected The Second Dog.", "You are truly great."})
	else
		BattleDialog({"You didn't select The Second Dog.", "You could've picked better."})
	end
end
</pre>
            </div>
            <p>
                <span class="function">HandleSpare()</span>
                Happens when you select the Spare option from the Mercy menu, regardless of whether a monster is
                spareable or not. This event fires <i>after</i> the sparing of monsters is completed. If you spare the
                last enemy in the encounter, this function will not happen - the encounter is over at that point.
            </p>

            <h3>Script-specific events</h3>
            <h4>Encounter script events</h4>
            <p>
                <span class="function">HandleItem(item_ID)</span>
                Happens when you select an item from the item menu. <br>
				<span style="color:#ffff00">&ltCYF&gt </span>In CYF, you can use the Inventory object to edit the player's inventory.
				The items' name will be in caps, like HandleCustomCommand().
            </p>
            <p>
                <span class="function">EnteringState(newstate, oldstate)</span>
                A new, more flexible way of handling state changes. When you enter a new state, this function will fire
                with <i>newstate</i> containing the new state's name, and <i>oldstate</i> containing the previous
                state's name. Both are in all caps. One of the most powerful things about it is that you can use State()
                here to interrupt state changes initiated by the engine itself.
                <br>
                Possible states and when they execute are below:
            </p>
            <ul>
                <li>ACTIONSELECT - Returning to the main part of the battle, where you can select
                    FIGHT/ACT/ITEM/MERCY.
                </li>
                <li>ATTACKING - When you've selected a target with the FIGHT option.</li>
                <li>DEFENDING - When the enemy/enemies finish dialogue, and one or more waves start.</li>
                <li>ENEMYSELECT - When you've selected either FIGHT or ACT, and need to select an enemy.</li>
                <li>ACTMENU - When you've selected an ACT target, and must now select an ACT command.</li>
                <li>ITEMMENU - When you've selected ITEM.</li>
                <li>MERCYMENU - When you've selected MERCY.</li>
                <li>ENEMYDIALOGUE - When your enemy/enemies start their dialogue.</li>
                <li>DIALOGRESULT - When you call BattleDialog(), or when the UI shows text on its own (e.g. when using
                    an item).
                </li>
            </ul>

            For a clearer example, here's a code snippet replicating the older events above.
            <div class="code-container">
  <pre class="brush:lua;">
function EnteringState(newstate, oldstate)
	if newstate == "ENEMYDIALOGUE" then
		--same as EnemyDialogueStarting()
	elseif newstate!= "ENEMYDIALOGUE" and oldstate == "ENEMYDIALOGUE" then
		--same as EnemyDialogueEnding(). Alternatively, check for newstate == "DEFENDING"
	elseif newstate!= "DEFENDING" and oldstate == "DEFENDING" then
		--same as DefenseEnding()
	end
end
</pre>
            </div>
            <p>
                <span class="function">Update()</span>
                This function runs for every frame for all of the encounter, even during waves. For advanced users: the
                Update function is required to exist at the beginning of the encounter. If you define it at a later
                point in time, it will not get executed.
            </p>

            <h4>Monster script events</h4>
            <p>
                <span class="function">HandleAttack(damage)</span>
                Happens the moment the player's attack has applied damage - this is when you hear the hitting sound
                after the slash animation. <i>damage</i> will be -1 if the player pressed Fight, but didn't press any
                buttons and let it end by itself. The monster's <i>hp</i> variable will have updated at this time, too.
                Don't call BattleDialog() here, it's a bit buggy right now.
            </p>
            <p>
                <span class="function">OnDeath()</span>
                Happens after your attack's shaking animation has completed and the monster's HP is 0. If you implement
                OnDeath(), your monster will not die automatically, and you will have to do it manually with the Kill()
                function. OnDeath() will only happen through monster kills that happened with the FIGHT command;
                scripted Kill() calls will not trigger it. Calling BattleDialog() here will probably screw up the battle
                UI.
            </p>
            <p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>OnSpare()</span>
                Happens after you successfully spared a monster. If you implement OnSpare(), your monster will not be 
				spared automatically, and you will have to do it manually with the Spare() function. OnSpare() will only 
				happen through monster spare that happened with the SPARE command, scripted Spare() calls will not trigger 
				it.
            </p>
			<p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>BeforeDamageCalculation()</span>
                Happens before the damage calculation after pressing Z when attacking. You can easily use SetDamage()
				in this function and lots of other animations and such.
				<br>Previous name: OnAttack()
            </p>
			<p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>BeforeDamageValues()</span>
                Happens before the damage ui is displayed on the monster (the life bar and the damage number) and before 
				the hp changing. You can still change the target with Player.changeTarget(targetNumber) in this function.
            </p>
            <p>
                <span class="function">HandleCustomCommand(actcommand)</span>
                Happens when you select an Act command on this monster. <i>actcommand</i> will be the same as how you
                defined it in the <i>commands</i> list, except it will be <i>in all caps</i>. Intermediate example
                below, showing how you can use it and spice it up a little.
            </p>
            <div class="code-container">
  <pre class="brush:lua;">
commands = {"Sing", "Dance", "Wiggle"} --somewhere at the beginning
wigglecounter = 0 --let's keep a counter to check how often we've wiggled
  
function HandleCustomCommand(command)
	if command == "SING" then
		BattleDialog({"You sing your heart out. It's in the arena now."})
	elseif command == "DANCE" then
		BattleDialog({"You busted out your best moves."})
	elseif command == "WIGGLE" then
		if wigglecounter == 0 then --you can use variables to make commands more exciting!
			BattleDialog({"You just kind of stood there and wiggled."})
		elseif wigglecounter == 1 then
			BattleDialog({"You're still kind of standing there and wiggling."})
		else
			BattleDialog({"Your wiggled so often that your wiggling technique\ris now legendary."})
		end
		wigglecounter = wigglecounter + 1 --be sure to increase the wiggle counter, or it'll stay at 0
	end
end
</pre>
            </div>
            <h4>Wave script events</h4>
            <p>
                <span class="function">Update()</span>
                This function is launched every frame (usually at 60FPS) while monsters are attacking (the defense step). That's pretty
                much it. Update your bullets here - more on bullet creation and control is on the <i>API - Projectile
                management</i> page.
            </p>
            <p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>EndingWave()</span>
                This function is launched just before the wave ends. It permits you to reset easily some variables etc. 
            </p>
            <p>
                <span class="function">OnHit(bullet)</span>
                Every time a bullet collides with a player, this function gets called on the script that created the
                projectile. The bullet object in this function can be modified if you feel like it. For more information
                on the bullet object, see the documentation above.<br>
                <br>
                If you implement this function in your script, you have to define manually what should happen after
                bullet collision. This is what allows you to create orange, cyan and green projectiles, and much much
                more. If you don't implement this function in your wave script, it'll stick to the default of dealing 3
                damage on hit. Below are multiple examples of how to use this function.
            </p>
        </div>

        <div class="tab-pane text-style" id="api-functions">
            <h2>Functions &amp; Objects</h2>
            <p>
                This section details functions Unitale adds to your Lua scripts to interact with the game in various
                ways. All functions will have a suffix in square brackets to denote in which scripts they may be used.
                The key for this is E for Encounter, M for Monster and W for Wave. If, for example, a function can be
                used in all scripts, it will be written as <i>functionName() [E/M/W]</i>.
            </p>
			
			<p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>isCYF [E/M/W]</span>
				A true value that indicates that you're on CYF. NULL/nil if not on CYF. To test with 
				"if not isCYF then" or "if isCYF then".
            </p>
			
			<p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>safe [E/M/W]</span>
				True if CYF's safe mode is enabled, false otherwise.
            </p>
			
			<p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>windows [E/M/W]</span>
				Returns true if the user is on Windows, false otherwise.
            </p>
			
			<p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>CYFversion [E/M/W]</span>
				Returns the current version of CYF. For CYF 0.4.5, it'll return "0.4.5".
            </p>

            <p>
                <span class="function">DEBUG(text) [E/M/W]</span>
                Write text to the debug console (toggleable with F9). It will appear automatically the first time you
                write text to it. You can use this to check values in your code, or make sure some pieces of code are
                actually running.
            </p>

            <p>
                <span class="function">SetGlobal(your_variable_name, value) [E/M/W]</span>
				DEPRECATED. You better set variables in the Encounter script, as it is accessible from everywhere.
                <br>You can retrieve these variables with Encounter.GetVar("yourvar") or Encounter["yourvar"] and set them 
				with Encounter.SetVar("yourvar", value) or Encounter["yourvar"] = value.<br>
                Set a global variable. After setting, you can retrieve it from all your scripts at any time with
                GetGlobal(variable_name).
            </p>

            <p>
                <span class="function">GetGlobal(your_variable_name) returns variable [E/M/W]</span>
				DEPRECATED. You better set variables in the Encounter script, as it is accessible from everywhere.
                <br>Get a Battle Global that you previously set using SetGlobal().
            </p>

            <p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>SetRealGlobal(your_variable_name, value) [E/M/W]</span>
                Set a Global variable, accessible even in the overworld. After setting it, you can retrieve it from all 
				your scripts at any time with GetRealGlobal(variable_name).
				Persists through battles, but not between sessions. These variables can be saved using the overworld save system.<br>
                Can be used on the overworld.
            </p>

            <p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>GetRealGlobal(your_variable_name) returns variable [E/M/W]</span>
                Get a Global that you previously set using SetRealGlobal().<br>
                Can be used on the overworld.
            </p>

            <p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>SetAlMightyGlobal(your_variable_name, value) [E/M/W]</span>
                AlMighty Globals are globals that are instantly saved into a file when set: these globals persists 
				through sessions, even in devMod mode, and can't be removed.
				However, you can still access the "Remove AlMighty Globals" button in devMod to remove them.<br>
                Can be used on the overworld.
            </p>

            <p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>GetAlMightyGlobal(your_variable_name) returns variable [E/M/W]</span>
                Get an AlMighty Global that you previously set using SetAlMightyGlobal().<br>
                Can be used on the overworld.
            </p>
			
			<p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>SetFrameBasedMovement(bool) [E/M/W]</span>
				Replace bool by "true" if you want a frame-based player movement. (2px/frame) instead of a time based player movement (120px/s)
				Replace it by "false" if you already are in a frame-based movement and you want to go back to a time based movement.
            </p>

            <p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>SetAction("FIGHT" or "ACT") [E/M/W]</span>
                Used in EnteringState to force the player to go on FIGHT or ACT. Does nothing outside of this function.
            </p>
            
            <p>          
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>AllowPlayerDef(bool) [E/M/W]</span>
                If this value is set to true, all damage that the player will take will be reduced like in Undertale by 1 for each 5 defense, 
                with the player's defense at LV1 not affecting the damage.<br/>
                Each damage that is originally positive but lower than 1 will be replaced by 1.
				<br/>False by default.
            </p>

            <p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>SetPPCollision(bool) [E/M/W]</span>
                Setting this to true will force all bullets that don't have a specified collision type to be Pixel-Perfect bullets.
				I greatly recommand you to check the Pixel-Perfect Collision system section if you want to use it.
				<br>False by default.
            </p>

            <p>
                <span class="function">BattleDialog(list_of_strings) [E/M/W]</span>
                This makes the list of strings you give the function appear in the UI dialog box. After skipping through
                them, you will automatically go to the monster dialogue step by default. Below is a working example of
                how you could use it for a Vegetoid encounter.
            </p>
            <div class="code-container">
   <pre class="brush: lua;">
function HandleCustomCommand(command)
	if command == "DINNER" then
		if ate_greens then -- ate_greens is a non-default variable, of course
			currentdialogue = {"Ate\nYour\nGreens"}
		else
			currentdialogue = {"Eat\nYour\nGreens"}
		end
		BattleDialog({"You pat your stomach.\nVegetoid offers a healthy meal."})
	end
end
</pre>
                <p>(For the Lua specialists; it is indeed a table of strings rather than a list of strings.)</p>
            </div>

            <p>
                <span class="function">State(state_to_go_to) [E/M/W]</span>
                A powerful function that immediately skips the battle to the specified state, rather than following the
                default conventions. Below is a list of valid strings you can pass to it, what state you'll be going to
                and what that state entails. The states you pass to it are case-invariant, but uppercase is recommended
                for readability.</p>
            <ul>
                <li>ACTIONSELECT - While in this state, you can select FIGHT/ACT/ITEM/MERCY.</li>
                <li>ENEMYDIALOGUE - When starting this state, <i>currentdialogue</i> gets read from the Encounter script
                    for every monster and their dialogue is displayed. If that doesn't exist it'll return something at
                    random from the <i>randomdialogue</i> list.
                </li>
                <li>DEFENDING - When starting this state, <i>nextwaves</i> is read out from the Encounter script and all
                    scripts in the Waves folder with matching names will be part of this defense step. <i>wavetimer</i>
                    is also read from the Encounter script at this time.
                </li>
                <li>DONE - Currently, this immediately returns you to the mod selection screen.</li>
            </ul>
            <p>
                Arguably the best part about State is that it can be used in conjunction with the text command [func] to
                change the state from within your dialogue. An example below; this will have a monster say that he will
                not fight you, then return to the action select screen rather than launching an attack.</p>
            <div class="code-container">
                <pre class="brush: lua;">currentdialogue = {"I won't fight you.", "[func:State,ACTIONSELECT]"}</pre>
            </div>
            <p>
                There are other states available, but they can't be properly used. For the sake of completeness I will
                list them here and you are free to attempt something with them, but will not explain further as they'll
                likely lock up the battle and their use is entirely unsupported. A better way to manage the state of the
                battle will be added eventually.<br>
                <br>
                The other states are as follows: ATTACKING, ENEMYSELECT, ACTMENU, ITEMMENU, MERCYMENU, RESETTING,
                DIALOGRESULT.</p>
			
			<p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>GetCurrentState() [E/M/W]</span>
				Returns the name of the current state.
            </p>

            <p>
                <span class="function">The Player object [E/M/W]</span>
                You can use this object to obtain information about the player. Since the player is always 16x16 pixels
                in Undertale, you can add/subtract 8 from the player's horizontal/vertical position to get the player's
                edges if you need that for anything.
            </p>
            <ul>
                <li>Player.sprite - the Player's soul sprite component. See the Sprites &amp; Animation section for
                    usage details.
                </li>
                <li>Player.hp - get or set the player's current HP. Can't exceed max HP. If set to 0, game over
                    triggers. <br>
					<span style="color:#ffff00">&ltCYF&gt </span>The hp value is now a float, but there can be some problems about accuracy of float values.
                </li>
                <li>Player.maxhp (readonly) - returns the player's MaxHP value. <br>
					<span style="color:#ffff00">&ltCYF&gt </span>The hp value is now a float, but there can be some problems about accuracy of float values.
                </li>
                <li>Player.MaxHPShift (readonly) - returns the player's bonus MaxHP value compared to his normal HP value. <br>
					<span style="color:#ffff00">&ltCYF&gt </span>The hp value is now a float, but there can be some problems about accuracy of float values.
                </li>
                <li>Player.name - get or set the player's current name. <br>
				    <span style="color:#ffff00">&ltCYF&gt </span>9 letters max. "Rhenao" by default.</li>
                <li>Player.lv - get or set the player's current level. 1 by default/minimum. <span style="color:#ffff00">&ltCYF&gt </span>99 max. <span style="color:#ffff00">&ltCYF/&gt </span> 
				    Player starts with 20HP / 10 ATK and gets 4 HP / 2 ATK per level. Leveling up the player through code doesn't automatically heal them; you'll have to do this manually.
                </li>
                <li>Player.atk (readonly) - basis attack of the player, depending of the player's level.
                </li>
                <li>Player.def (readonly) - basis defense of the player, depending of the player's level.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Player.weaponatk (readonly) - attack bonus of the player's weapon.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Player.armordef (readonly) - defense bonus of the player's armor.
                </li>
                <li>Player.x (readonly) - get the X position of the <i>player's center</i> relative to the arena's
                    center.
                </li>
                <li>Player.y (readonly) - get the Y position of the <i>player's center</i> relative to the arena's
                    center.
                </li>
                <li>Player.absx (readonly) - get the X position of the <i>player's center</i> relative to the bottom
                    left corner of the screen.
                </li>
                <li>Player.absy (readonly) - get the Y position of the <i>player's center</i> relative to the bottom
                    left corner of the screen.
                </li>
                <li>Player.isHurting (readonly) - true if the player's currently blinking due to being hurt, false
                    otherwise.
                </li>
                <li>Player.isMoving (readonly) - true if the player is currently moving in battle, false otherwise. Will
                    always be false while not in a wave script.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Player.lastenemychosen (readonly) - get the id of the last chosen enemy in ACT and FIGHT. 
				-1 at the beginning of a fight.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Player.lasthitmultiplier (readonly) - get the last accuracy multiplier in the accuracy test in ATTACKING.
				From 0 to 2 normally, -1 when missed and at the beginning of the fight, 2.2 when centered shot
                </li>
                <li>Player.Hurt(damage) - deals damage to the player, and makes them invincible for the default time.
                </li>
                <li>Player.Hurt(damage, invul_time) - deals damage to the player, and makes them invincible for <i>invul_time</i>
                    seconds.
                </li>
                <li>Player.Heal(value) - heals the player for this amount. This is exactly the same as
                    Player.Hurt(-value, 0).
                </li>
                <li>Player.SetControlOverride(boolean) - either true or false. Only useable in waves. If true, this will
                    prevent the player soul from doing its regular movement/keyboard control for the rest of the wave.
                    Used for if you want to implement your own controls for a wave.
                </li>
                <li>Player.MoveTo(x, y, ignoreWalls) - Moves to player soul to this position relative to the arena's
                    center. If ignoreWalls is false, it will make sure the player doesn't go outside of the arena,
                    otherwise it ignores the boundaries. If you want to move the player out of bounds in a wave, you'll
                    have to call Player.SetControlOverride(true) as the player's default movement keeps the soul inside
                    the arena.
                </li>
                <li>Player.Move(x, y, ignoreWalls) - Moves the player soul compared to its last position. If ignoreWalls 
                    is false, it will make sure the player doesn't go outside of the arena,
                    otherwise it ignores the boundaries. If you want to move the player out of bounds in a wave, you'll
                    have to call Player.SetControlOverride(true) as the player's default movement keeps the soul inside
                    the arena.
                </li>
                <li>Player.MoveToAbs(x, y, ignoreWalls) - Moves player soul to this position relative to the bottom left
                    of the screen. If ignoreWalls is false, it will make sure the player doesn't go outside of the
                    arena, otherwise it ignores the boundaries. If you want to move the player out of bounds in a wave,
                    you'll have to call Player.SetControlOverride(true) as the player's default movement keeps the soul
                    inside the arena.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Player.ForceHP(int amount) - Permits to set the Player's HP above his MaxHP. The REAL maximum is 1.5
                    times the player's MaxHP.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Player.setMaxHPShift(int shift, float invulnerabilitySeconds = 1.7f, bool set = false, bool canHeal = false)
				    Permits to set the Player's MaxHP relatively to its normal MaxHP. If the total MaxHP is negative or null, it 
					causes a GameOver.<br>
					Formula: Player's MaxHP = Basis MaxHP + MaxHP Shift
					<ul>
						<li>shift = The value that'll set or add.</li>
						<li>invulnerabilitySeconds = The time for which the player will be invulnerable.</li>
						<li>set = true if you want to set the Player's MaxHP directly.</li>
						<li>canHeal = If the MaxHP is increased, can the Player heal itself?</li>
					</ul>
                </li>
	            <li><span style="color:#ffff00">&ltCYF&gt </span>Player.SetAttackAnim(string[] anim, float frequency) - Sets the player's attack anim. 
				    Use it like sprite.SetAnimation()</li>
				<li><span style="color:#ffff00">&ltCYF&gt </span>Player.ResetAttackAnim() - Resets the basic slashing animation of the player's attack.</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Player.ChangeTarget(int targetNumber) - Changes the target of the Player, in ATTACKING. Else, does nothing.
					You better use it in BeforeDamageCalculation() or BeforeDamageValues().</li>
				<li><span style="color:#ffff00">&ltCYF&gt </span>Player.ForceAttack(int enemyID, int damage = normal_damage_values) - Forces an attack towards the enemy number 
				    enemyID. If you want to, you can choose the attack's damage, otherwise it'll be a normal attack calcul.
					<br><span style="color:#ff0000">You'll need to check if an enemy is dead after this attack with 
					Player.CheckDeath() to really kill them.</span></li>
				<li><span style="color:#ffff00">&ltCYF&gt </span>Player.MultiTarget(int[] targetIDs = all, int[] damage = normal_damage_values) - The next FIGHT option of the 
				    player will attack the enemies contained in "targetIDs" and deal them "damage" damage.
					If you want to, you can choose the attack's damage, otherwise it'll be a normal attack calcul.
					If you put nothing as parameter, it'll attack all enemies with their normal damage calcul.</li>
				<li><span style="color:#ffff00">&ltCYF&gt </span>Player.MultiTarget(int damage) - The next FIGHT option of the player will attack all the enemies and deals them 
				    "damage" damage.</li>
				<li><span style="color:#ffff00">&ltCYF&gt </span>Player.ForceMultiAttack(int[] targetIDs = all, int[] damage = normal_damage_values) - Forces a multi attack 
				    towards the enemies contained in "targetIDs" and deal them "damage" damage.
					If you want to, you can choose the attack's damage, otherwise it'll be a normal attack calcul.
					If you put nothing as parameter, it'll attack all enemies with their normal damage calcul.
					<br><span style="color:#ff0000">You'll need to check if an enemy is dead after this attack with 
					Player.CheckDeath() to really kill them.</span></li>
				<li><span style="color:#ffff00">&ltCYF&gt </span>Player.ForceMultiAttack(int damage) - Forces a multi attack that deals "damage" damage to all enemies.
					<br><span style="color:#ff0000">You'll need to check if an enemy is dead after this attack with 
					Player.CheckDeath() to really kill them.</span></li>
				<li><span style="color:#ffff00">&ltCYF&gt </span>Player.CheckDeath() - Checks if the enemies are dead after a forced attack. I don't kill the enemies directly
				    because possible death texts will be easier to implement if you use ForceAttack or ForceMultiAttack in the middle 
					of a text.</li>
			</ul>
            <p>
                <span class="function">The Script object (and the Encounter object) [varies]</span>
                Script objects are a bit of a special case. They're used to refer to other scripts that were loaded by
                the engine itself. In the encounter script, the <i>enemies</i> table is filled with Script objects after
                the encounter starts and the <i>Wave</i> table is filled with Script object in the state DEFENDING. The Encounter object is also a script object that refers to 
                the current encounter, and is accessible from anywhere except from the Encounter itself. Take note of the different way of accessing variables.
            </p>
            <ul>
                <li>script.GetVar("variable_name") - gets variable_name from the script.</li>
                <li>script["variable_name"] - same as the above.</li>
                <li>script.SetVar("variable_name", value) - sets variable_name on the script.</li>
                <li>script["variable_name"] = value - same as the above.</li>
                <li>script.Call("function_name") - runs function_name from within the script.</li>
            </ul>

            <p>So for instance, you can do enemies[1].Call("Kill") to kill the first monster from your encounter. You
                can do Encounter.SetVar("wavetimer", 1.0) from anywhere to change the wave timer to 1 second.</p>

            <p>
                <span class="function">The Audio object [E/M/W]</span>
                The Audio object allows you to control music in the game and play sounds. Here's the ways in which you
                can use it.
            </p>
            <ul>
                <li>Audio.Play() - Play the currently loaded music. Done automatically at the beginning of a fight.</li>
                <li>Audio.Stop() - Stops the music. If you want a battle not to have music, call this in <i>EncounterStarting()</i>.
                </li>
                <li>Audio.Pause() - Pause the music.</li>
                <li>Audio.Unpause() - Unpause the music if you previously paused it.</li>
                <li>Audio.Volume(value) - Set music to given volume. <i>value</i> should be between 0.0 (muted) and 1.0
                    (full volume). This is 0.75 by default.
                </li>
                <li>Audio.Pitch(value) - Set music pitch to given value. 1.0 is default, 2.0 is twice the regular speed.
                    Negative values play the music backwards. <i>value</i> should be between -3.0 and 3.0.
                </li>
                <li>Audio.LoadFile(filename) - Load music from the Audio folder titled <i>filename.ogg</i> or <i>filename.wav</i>
                    and play it immediately. If you don't want immediate playback, call <i>Audio.Stop()</i> after this.
                </li>
                <li>Audio.PlaySound(filename) - Play the sound from the Sounds folder titled <i>filename.ogg</i> or <i>filename.wav</i>.
                </li>
                <li>Audio.playtime - Get the current play position of the current music in seconds.</li>
                <li>Audio.totaltime - Get the total length of the current music in seconds.</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Audio.StopAll() - Stops all the audio sources.</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Audio.PauseAll() - Pauses all the audio sources.</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Audio.UnpauseAll() - Unpauses all the audio sources.</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Audio.GetSoundDictionary(key) - Returns the index of the sound in the 
                    sound dictionary. Returns the key itself if the key isn't in the dictionary.</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Audio.SetSoundDictionary(key, value) - Adds a sound to the sound dictionary. Doing so permits you to change the name of the sounds played by the engine, like for example hurtsound or menumove.</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Audio[key] - Fast way to use Audio.SetSoundDictionary/GetSoundDictionary.</li>
            </ul>

            <p>As it's an object, you can't directly use it with [func], but you can make your own function if you want
                to, say, stop the music mid-dialogue.</p>
            <div class="code-container">
   <pre class="brush: lua;">currentdialogue = {"but then I realized...\n[w:30][func:drama]the butler did it!!!"}
   
function drama()
	Audio.Stop()
	Audio.PlaySound(dramatic_sound_effect)
end</pre>
            </div>
			
			<p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>The NewAudio object [E/M/W]</span>
                The NewAudio object allows you to create sound channels and has an overall better music management than the Audio object.
            </p>
            <ul>
			    <li>NewAudio.CreateChannel(name) - Creates the audio channel "name"</li>
			    <li>NewAudio.DestroyChannel(name) - Destroys the audio channel "name"</li>
			    <li>NewAudio.Exists(name) - Does the audio channel "name" exists? Returns true or false.</li>
			    <li>NewAudio.GetAudioName(name) - Gets the name of the audio channel "name".</li>
                <li>NewAudio.GetTotalTime(name) - Get the total time of the last clip played on the channel "name"</li>
			    <li>NewAudio.PlayMusic(name, music, loop = false, volume = 1) - Plays the music "music" on the channel "name". 
				"loop" tells the engine if it has to loop the music or not, volume is the volume of the music.</li>
			    <li>NewAudio.PlaySound(name, music, loop = false, volume = 0.65) - Plays the sound "sound" on the channel "name". 
				"loop" tells the engine if it has to loop the music or not, volume is the volume of the music.
				The basis sound and voice volume is 0.65.</li>
			    <li>NewAudio.PlayVoice(name, music, loop = false, volume = 0.65) - Plays the voice "voice" on the channel "name". 
				"loop" tells the engine if it has to loop the music or not, volume is the volume of the music.
				The basis sound and voice volume is 0.65.</li>
			    <li>NewAudio.SetPitch(name, value) - Sets the pitch of the audio channel "name"</li>
			    <li>NewAudio.GetPitch(name) - Gets the pitch of the audio channel "name"</li>
			    <li>NewAudio.SetVolume(name, value) - Sets the volume of the audio channel "name"</li>
			    <li>NewAudio.GetVolume(name) - Gets the volume of the audio channel "name"</li>
				<li>NewAudio.Play(name) - Plays the last sound played in the audio channel "name"</li>
				<li>NewAudio.Stop(name) - Stops the audio channel "name"</li>
				<li>NewAudio.Pause(name) - Pauses the audio channel "name"</li>
				<li>NewAudio.Unpause(name) - Unpauses the audio channel "name"</li>
				<li>NewAudio.SetPlayTime(name, value) - Sets the volume of the audio channel "name" in seconds.</li>
				<li>NewAudio.GetPlayTime(name) - Gets the volume of the audio channel "name" in seconds.</li>
				<li>NewAudio.StopAll() - Stops all the audio channels.</li>
				<li>NewAudio.PauseAll() - Pauses all the audio channels.</li>
				<li>NewAudio.UnpauseAll() - Unpauses all the audio channels.</li>
				<li>NewAudio.isStopped(name) - Is the audio channel "name" stopped?</li>
            </ul>

            <p>
                <span class="function">The Input object [E/M/W]</span>
                The Input object allows you to retrieve input status. All keys will return a number; 0 when not pressed,
                1 on the first frame the key is pressed, 2 while it's being held, and -1 while it's released. You can
                check if a key's value is greater than 0 to see if it's pressed, or if it's exactly 1/-1 to only have an
                action if it was just pressed/released. Possible key options are below.<br>
                <br>
                Note: do not rely on the Input object to replace proper UI controls. Changing game state in the UI based
                on input will likely cause a fair share of issues and is not supported at this moment (but feel free to
                see what does and doesn't work).
            </p>
            <ul>
                <li>Input.Confirm - Z or Enter keys</li>
                <li>Input.Cancel - X or left Shift keys</li>
                <li>Input.Menu - C or left Control keys (currently unused anywhere else)</li>
                <li>Input.Up - Up arrow or W</li>
                <li>Input.Down - Down arrow or S</li>
                <li>Input.Left - Left arrow or A</li>
                <li>Input.Right - Right arrow or D</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Input.GetKey(keyname) - Get the state of the given key
				<br>Check the Key List tab to see the available keys.</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Input.MousePosX (readonly) - Returns the X position of the mouse relative to the bottom left corner of 
				    the screen. (from 0 to 640)</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Input.MousePosY (readonly) - Returns the Y position of the mouse relative to the bottom left corner of 
				    the screen. (from 0 to 480)</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Input.isMouseInWindow (readonly) - Returns true if the mouse is in the window, false otherwise.</li>
            </ul>

            <p>
                <span class="function">The Time object [E/M/W]</span>
                The Time object serves as a way to retrieve game timing without having to keep track of it yourself, or
                using a frame counter. Whenever possible, try using the Time object over a frame-based timing method to
                ensure equal behaviour across all framerates.
            </p>
            <ul>
                <li>Time.time - Time (in seconds) since the game application started. If you want to time specific
                    events, store Time.time in a variable of your own at the start of what you want to time, then
                    subtract Time.time from your stored time to calculate the difference.
                </li>
                <li>Time.dt - Delta time (in seconds). This is the time it took for the last game update to complete.
                </li>
                <li>Time.mult - Multiplier to ensure equal movement across all framerates (this is essentially
                    deltatime*framerate). This will be around 1.0 when the application runs at 60FPS, ~0.5 at 120FPS and
                    ~2.0 at 30FPS, etc. By multiplying your movement by this value, your waves will be consistent on
                    lower framerates as well.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Time.wave - Returns the remaining time before the end of the waves in DEFENDING, -1 otherwise.</li>
            </ul>
            
			<p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>The Misc object [E/M/W]</span>
                The Misc object groups some window-related and computer-related functions to use. Mostly windows functions: 
				don't forget to check if the user is playing with a Windows OS or something else with the variable "windows"!
            </p>
			    <ul>
					<li>Misc.MachineName (read-only) - Returns the name of the player's session.</li>
					<li>Misc.DestroyWindow() - Closes the window instantly.</li>
                    <li>Misc.ShakeScreen(int durationInFrames, int intensity = 3, bool isIntensityDecreasing = false) - Shakes the screen for durationInFrames frames, 
                        with a maximum of intensity pixels out of the normal position. Set isIntensityDecreasing on true to reduce the intensity over time.<br>
                        <span style="color:ff8000">Only usable in battles.</span></li>
                    <li>Misc.StopShake() - Stops a previously launched Misc.ShakeScreen, does nothing otherwise.<br>
                        <span style="color:ff8000">Only usable in battles.</span></li>
					<li>Misc.FullScreen - Fullscreen mode.
					<li>Misc.ScreenWidth - Returns the width of the user's screen.</li>
					<li>Misc.ScreenHeight - Returns the height of the user's screen.</li>
					<li><span style="color:#ff0000">THE FOLLOWING VARIABLES AND FUNCTIONS ARE WINDOWS ONLY.</span></li>
					<li>Misc.MoveWindow(int X, int Y) - Move the window of X and Y. 
					<li>Misc.MoveWindowTo(int X, int Y) - Move the bottom left corner of the window to the given coordinates.</li>
					<li>Misc.WindowX - The X position of the bottom left corner of the window.</li>
					<li>Misc.WindowY - The Y position of the bottom left corner of the window.</li>
					<li>Misc.WindowWidth (readonly) - The width of the window.</li>
					<li>Misc.WindowHeight (readonly) - The height of the window.</li>
					<li>Misc.WindowName - The name of the window.</li>
			    </ul>
			<br>
            <p>
                <span class="function">SetSprite(filename) [M]</span>
                Sets the monster's sprite from the Sprites folder to <i>filename.png</i>. Can be used with [func] to
                change sprites mid-dialogue.
            </p>

            <p>
                <span class="function">SetActive(active) [M]</span>
                Either true or false. If false, this monster will stay on screen but will not show up in menus, do its
                dialogue or run any of its events. You can use this to introduce monsters to an encounter at a later
                point. The battle will end when a monster is killed or spared and there are no active monsters left.
                Having no active monsters at all will likely cause a bunch of errors right now.
            </p>

            <p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>SetDamage(amount) [M]</span>
                Set the next attack's amount of damage to the enemy. Can be negative.<br>
				<b>YOU HAVE TO USE IT IN A FUNCTION!</b> You don't want to use it beside SetActive(false).
            </p>

            <p>
                <span class="function">Kill() [M]</span>
                Kills the monster immediately. If this was the last monster, the battle ends.
            </p>

            <p>
                <span class="function">Spare() [M]</span>
                Spares the monster immediately. Similar to Kill(), if this was the last monster, the battle ends.
            </p>

            <p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>Move(float x, float y, bool bindToArena = false) [M]</span>
                Moves the enemy's sprite from its current position. 
				bindToArena: will the enemy's sprite follow the Arena? Same as BindToArena().
            </p>
			
			<p>
				<span class="function"><span style="color:#ffff00">&ltCYF&gt </span>MoveTo(float x, float y, bool bindToArena = false) [M]</span>
				Moves the enemy's sprite from the bottom left corner. 
				bindToArena: will the enemy's sprite follow the Arena? Same as BindToArena().
			</p>
			
			<p>
			    <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>BindToArena(bool bind) [M]</span>
				Will the enemy's sprite will follow the Arena's movements? True for yes, false for no.
			</p>
			
			<p>
			    <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>SetBubbleOffset(int x, int y) [M]</span>
				Offsets the talk bubble of this enemy of x and y.
			</p>
			
			<p>
			    <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>SetDamageUIOffset(int x, int y) [M]</span>
				Offsets the damage UI when you attack this enemy of x and y. The UI goes above the arena.
			</p>
			
			<p>
			    <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>SetSliceAnimOffset(int x, int y)[M]</span>
				Offsets the attack animation when the player FIGHTs this monster.
			</p>

            <p>
                <span class="function">RandomEncounterText() returns string [E]</span>
                Select a random monster from the encounter, then get a random entry from the <i>comments</i> specified.
                You'll want to use this to replicate default encounter behaviour. See code below (or one of the example
                encounters).
            </p>
            <div class="code-container">
   <pre class="brush: lua;">function DefenseEnding() --This built-in function fires after the defense round ends.
	encountertext = RandomEncounterText()
end</pre>
            </div>
            <hr>
            <h3>Wave scripts</h3>
            <p>The following section is dedicated exclusively to wave scripts. We'll go over special functions and the
                arena object. As you can now create projectiles from the encounter as well, information about
                projectiles and their examples have been moved to the <i>API - Projectile management</i> section.</p>
            <p>
                <span class="function">The Arena object [W]</span>
                You can use this object to obtain information about the arena, resize it or move it.<br>
				Don't forget that the Arena's position is resetted at the end of the wave!
            </p>
            <ul>
                <li>Arena.width (readonly) - the width of the arena in pixels, after resizing. Since the reference for
                    the player and bullets is the arena's center, you can get the left/right side of the arena with
                    -Arena.width/2 and Arena.width/2 respectively.
                </li>
                <li>Arena.height (readonly) - the height of the arena in pixels, after resizing. Like with width, you
                    can get the bottom/top with -Arena.height/2 and Arena.height/2 respectively.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Arena.x (readonly) - the position of the center of the Arena, after resizing.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Arena.y (readonly) - the position of the bottom of the Arena, after resizing. To have the center, just do 
				    Arena.y + Arena.width/2.
                </li>
                <li>Arena.currentwidth (readonly) - the <i>current</i> width of the arena in pixels. Differs from <i>width</i>
                    in that it will accurately reflect the arena size in the middle of resizing, too.
                </li>
                <li>Arena.currentheight (readonly) - the <i>current</i> height of the arena in pixels. Differs from <i>height</i>
                    in that it will accurately reflect the arena size in the middle of resizing, too.
                <li><span style="color:#ffff00">&ltCYF&gt </span>Arena.currentx (readonly) - the <i>current</i> x of the arena in pixels. Differs from <i>x</i>
                    in that it will accurately reflect the arena position in the middle of moving, too.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Arena.currenty (readonly) - the <i>current</i> y of the arena in pixels. Differs from <i>y</i>
                    in that it will accurately reflect the arena position in the middle of moving, too.</li>
                <li>Arena.Resize(width, height) - Resizes the arena to the new size. Currently, monsters stay on top of
                    the arena. This will be changed around the animation update.
                </li>
                <li>Arena.ResizeImmediate(width, height) - Resizes the arena without the animation.</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Arena.Move(x, y, bool movePlayer = true, bool immediate = false) - Move the Arena based on its current position. 
				    Put movePlayer to true if you want the Player to move with the Arena, immediate to true if you want to move the
					Arena immediately.</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Arena.MoveTo(x, y, bool movePlayer = true, bool immediate = false) - Move the Arena based on the bottom-left corner.
				    Put movePlayer to true if you want the Player to move with the Arena, immediate to true if you want to move the
					Arena immediately.</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Arena.MoveAndResize(x, y, width, height, bool movePlayer = true, bool immediate = false) - Move the Arena based 
				    on its current position and resizes it at the same time.<br>
				    Put movePlayer to true if you want the Player to move with the Arena, immediate to true if you want to move the
					Arena immediately.</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Arena.MoveToAndResize(x, y, width, height, bool movePlayer = true, bool immediate = false) - Move the Arena based 
				    on the bottom-left corner and resizes it at the same time.<br>
				    Put movePlayer to true if you want the Player to move with the Arena, immediate to true if you want to move the
					Arena immediately.</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Arena.isResizing (readonly) - Returns true if the Arena is being resized, false otherwise.</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Arena.isMoving (readonly) - Returns true if the Arena is being moved, false otherwise.</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Arena.isModifying (readonly) - Returns true if the Arena is being moved or resized, false otherwise.</li>
			</ul>

            <p>
                <span class="function">EndWave() [W]</span>
                Ends this wave immediately. You can only call this function from the Update function.
            </p>

            <p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>wavename [W]</span>
                Returns the name of the wave file, without extension, from the folder Waves. 
            </p>
			
			
        </div>

        <div class="tab-pane text-style" id="api-keys">
		    <h2><span style="color:#ffff00">&ltCYF&gt </span>Key List</h2>
			<p>A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z</p>
			
			<p>Alpha0, Alpha1, Alpha2, Alpha3, Alpha4, Alpha5, Alpha6, Alpha7, Alpha8, Alpha9</p>
			
			<p>F1, F2, F3, F4, F5, F6, F7, F8, F9, F10, F11, F12, F13, F14, F15</p>
			
			<p>Keypad0, Keypad1, Keypad2, Keypad3, Keypad4, Keypad5, Keypad6, Keypad7, Keypad8, Keypad9, 
			   <br>KeypadPeriod, KeypadDivide, KeypadMultiply, KeypadMinus, KeypadPlus, KeypadEnter, KeypadEquals</p>
			   
			<p>UpArrow, DownArrow, RightArrow, LeftArrow</p>
			
			<p>Backspace, Tab, Clear, Return, Pause, Escape, Space, Exclaim, DoubleQuote, Hash, Dollar, Ampersand, Quote, LeftParen, RightParen,
			   <br>Asterisk, Plus, Comma, Minus, Period, Slash, Colon, Semicolon, Less, Equals, Greater, Question, At, LeftBracket, Backslash, 
			   <br>RightBracket, Caret, Underscore, BackQuote, Delete</p>
			   
			<p>Insert, Home, End, PageUp, PageDown, Numlock, CapsLock, ScrollLock, RightShift, LeftShift, RightControl, LeftControl, 
			   <br>RightAlt, LeftAlt, RightCommand, RightApple, LeftCommand, LeftApple, LeftWindows, RightWindows, AltGr, Help, Print, 
			   <br>SysReq, Break, Menu</p>
			   
			<p>Mouse0, Mouse1, Mouse2, Mouse3, Mouse4, Mouse5, Mouse6</p>
        </div>

        <div class="tab-pane text-style" id="overworld">
            <h2>Create Your Frisk: RhenaudTheLukark's Overworld basics</h2>
            
            <h3>Presentation</h3>
            
            <p>
                Create Your Frisk is different from Unitale by its numerous new features, but none other than the overworld 
                is the key feature that everyone was waiting to deal with for a long time.<br>
                So I'm finally able and proud to give an access to the overworld feature, that includes an efficient event handler
                with a lot of functions that you'll be able to use to create your own Undertale-like fangame!<br>
                However, to be able to use the overworld part of CYF, you will need to have a minimum of experience with Unity and 
                know at least GameObjects' mechanisms.
            </p>
            
            <h3>Get Started</h3>
            
            <p>
                To get started, you'll need first of all to download the current version CYF uses (at the moment I wrote this part 
                of the documentation, the version was 5.6.0f3) and of course download the project via 
                <a href="https://github.com/RhenaudTheLukark/CreateYourFrisk">Github</a>.<br>
                Unity may take a lot of time to install and to load the project for the first time due to a lot of resources being 
                registered by Unity, but you won't have to do it in the future.<br>
                Once you're in, you'll have to load the scene Assets/Scenes/Disclaimer.unity using the command File => Open Scene 
                at the top left corner of Unity's window.<br>
                Then you have it! You can launch CYF and you'll be ready to start fiddling with the engine! If that's not the case, 
                please contact me directly on Discord or Reddit. If you can, please get 
                <a href="https://www.teamviewer.com/fr/">TeamViewer</a>, it's a software that permits you to share your screen with 
                other users online, so that I'll be able to see what's wrong.
            </p>
            
            <h3>How does it work?</h3>

            <p>
                Some softwares will have to be used to be able to create an overworld in CYF. First of all, you can use a software 
                called <a href="http://www.mapeditor.org/">Tiled</a> that permits you to create maps out of tilesets, images that 
                contain tiles used to fill in maps. This tiling system being absent from Unity but easier to use to create a map, 
                I thought that being able to translate a Tiled map to an Unity scene thanks to Tiled2Unity would be a great idea.<br>
                Well, now we're going deep into the details. If you still haven't learned Unity's basics, you should look up to it 
                beforehand, as some technical language may be used here.<br>
                There are mostly two things to look at when making a map: the map itself (how the map will be) and the events (how 
                the map will work). Let's go deep further into the details.<br>
                As I said above, each map is translated into a scene. This scene will have to contain at minimum one element, and 
                it's the map object called Background. To see more about how to create a map, I suggest you to look at the tutorial 
                on how to create a map.<br>
                Then, the events. These are universal and used the same way, at the exception of one "add-on" that is a CYFAnimator 
                component. The events have different function-launching conditions, such as pressing the confirm button to launch it, 
                colliding with it, it being launched automatically or the function being launched as a parallel process. The 
                functions themselves have to be created in Lua scripts, like battles. To see more about how to use the events, you 
                should look at the tutorial on how to create an event.<br>
                Of course, there are other things to see, but these are the two main sides of CYF's overworld coding. Now look at the 
                functions to be able to do whatever you want to do!
            </p>
            
            <h3>The event code</h3>
            
            <p> 
                For a long time, events' code was accessible and could be modified by going in YOURMOD/Lua/Events/. Maybe that you 
                already fiddled with them, maybe not. Now that the system is stable and easier to use, event programming may be as 
                easy as creating a battle: all that you have to do is to follow the documentation and know what you're doing.<br>
                The overworld has a debugger like battles' (and it's used the same way). Use DEBUG(value) to print your value in the 
                debugger, if it's a string value. <br>
                Audio, NewAudio, Inventory, Input, Misc and Time objects used in battles are 
                usable in the overworld too, as well as RealGlobals and AlMightyGlobals access. Finally, the variables isCYF, safe, 
                windows and CYFversion are also accessible.
            </p>
        </div>

        <div class="tab-pane text-style" id="overworld-howto-map">
            <h2>The Overworld: How to create a map</h2>
            
            <p></p>
        </div>

        <div class="tab-pane text-style" id="overworld-howto-event">
            <h2>The Overworld: How to create an event</h2>
            
            <p></p>
        </div>

        <div class="tab-pane text-style" id="overworld-howto-animevent">
            <h2>The Overworld: How to add an animation to an event</h2>
            
            <p></p>
        </div>

        <div class="tab-pane text-style" id="overworld-object-general">
            <h2>The Overworld: The General Object</h2>
            
            <p></p>
        </div>
        
        <div class="tab-pane text-style" id="overworld-object-event">
            <h2>The Overworld: The Event Object</h2>
            
            <p></p>
        </div>
        
        <div class="tab-pane text-style" id="overworld-object-player">
            <h2>The Overworld: The Player Object</h2>
            
            <p></p>
        </div>
        
        <div class="tab-pane text-style" id="overworld-object-screen">
            <h2>The Overworld: The Screen Object</h2>
            
            <p></p>
        </div>
        
        <div class="tab-pane text-style" id="overworld-object-inventory">
            <h2>The Overworld: The Inventory Object</h2>
            
            <p></p>
        </div>

        <div class="tab-pane text-style" id="overworld-functions">
            <h2>Create Your Frisk: Lua functions</h2>
            <p>
                Events have a very particular way to work: they are read then exec, that is to say that the compiler
                reads the entire function, and then, if there is changed value within the code in a function as
                SetChoice, the function has to be read again, so if you have set a global variable, it will be set
                again, if you doesn't do what's necessary.
                <br>Plus, some iterations will not work, as while iterations. I made something to replace it, you'll see
                this later.
            </p>
            <br>
            <p>
                The overworld system creates by itself some local variables. Here's the list of variables that you may
                need:

                <li>Variables created after a choice: "Temp" + ID. By default, it will be 1, if 1 is already taken,
                    it'll be 2 etc...</li>
                <li>Variables created after a return point: "ReturnPoint" + ID. It uses the same generation technique
                    than variables from choices.</li>

                These variables' use case will be detailed further in the documentation. Keep reading!</document>
            </p>
            <br>
            <p>
                <span class="function">SetDialog(string[] text, bool formatted, string[] mugshot)</span>
                Displays a text. There's nothing more to say.
                <li>text = The different lines of text displayed</li>
                <li>formatted = Do you want to add asterisks et cetera to your text? (if yes: \n for asterisks, \r for
                    no asterisks, else \n for normal chariot return)
                    <br>True by default.</li>
                <li>mugshot = The name of your mugshots, without the extension. If you want to use it, you have to have
                    at least one mugshot per text, or else it will not work.
                    <br>They have to be at the path YourMod/Sprites/Mugshots/!</li>
            </p>
            <br>
            <p>
                <span class="function">SetChoice(string choice1, string choice2, string question = null, int ID = null)</span>
                Displays a choice, and the response will be stocked in a temporary variable. For now there is a lot of
                constraints, but I hope that I'll find a better way to do this easily. You can enter 2 choices for now
                and with a maximum of 3 lines. Plus, the question have to have no more than one line.
                <li>choice1, choice2 = The choices to choose. Maximum: 3 lines.</li>
                <li>question = The displayed question. Maximum: 1 line.</li>
                <li>ID = The index of the temporary value. The created variable will be named "Temp" + ID.
                    <br>Will be automatically generated by default (1, 2, 3...)</li>
            </p>
            <br>
            <p>
                <span class="function">SetAnimOW(string eventName, string animName)</span>
                Sets manually an animation to the selected event.
                Deprecated: you better use SetAnimSwitch, use this function for animations that aren't connected to
                others animations. In the actual player's animation, they are all connected, so for now don't worry
                about this function.
                <li>eventName = The name of the event.</li>
                <li>animName = The name of the animation. The player have for now some animations as Up, UpIdle, Left...</li>
            </p>
            <br>
            <p>
                <span class="function">SetAnimSwitch(string eventName, string triggerName)</span>
                Sets a trigger that will change the current animation of the selected event.
                Used of the desired animation is connected with the actual player's animation, else you better use
                SetAnimOW.
            <br><div><img class="centerbt black" src="img/animswitches.png"></div><br>
                You can see some arrows that goes from one animation to another: these arrows are the way to change
                your current animation, if the correct switch is enabled.<br>
                For example, if I activate the Switch "MovingLeft" while on the anim "DownIdle", I'll go to the anim
                "Left".
                And for SetAnimOW, you have to enter "Left" directly.
                <li>eventName = The name of the event.</li>
                <li>triggerName = The name of the animation trigger. The player have for now some triggers as MovingUp,
                StopUp, MovingLeft...</li>
            </p>
            <br>
            <p>
                <span class="function">TeleportEvent(string eventName, float dirX, float dirY)</span>
                Teleports the selected event to given coordinates.
                <li>eventName = The name of the event.</li>
                <li>dirX, dirY = coordinates.</li>
            </p>
            <br>
            <p>
                <span class="function">MoveEventToPoint(string eventName, float dirX, float dirY, bool wallPass)</span>
                Forces the player to move to given coordinates. Enables wallPass to be able to pass through walls during
                the movement.
                <li>eventName = The name of the event.</li>
                <li>dirX, dirY = coordinates.</li>
                <li>wallPass = Enables this to be able to pass through walls</li>
            </p>
            <br>
            <p>
                <span class="function">DispImg(string path, int ID, float posX, float posY, float dimX, float dimY, int
                                               toneR = 255, int toneG = 255, int toneB = 255, int toneA = -1)</span>
                Sorry for this 10 arguments function guys, but I have a DynValue problem that disallow the use of
                arrays, so for now it'll stay a 10 arguments function.
                <br>This function displays the image at a given path. It attributes it an ID, so your image's name will
                be "Image" + ID. Plus, you'll have to give the position of your image and its dimensions. You can add a
                color to the image, if you really want to.
                <li>path = The name of the image. Your image must be added in YourMad/Sprites.</li>
                <li>ID = The ID of the image.</li>
                <li>posX, posY = The position of the center of the image.</li>
                <li>dimX, dimY = The dimensions of the image. Have to be positive.</li>
                <li>toneR, toneG, toneB, toneA = The tone of the image. All values must be integers clamped from 0 to
                    255. To activate the tone, just change the value of toneA.</li>
            </p>
            <br>
            <p>
                <span class="function">SupprImg(int id)</span>
                Deletes an image displayed previously with a chosen ID.
                <li>ID = The ID of the image you want to delete.</li>
            </p>
            <br>
            <p>
                <span class="function">RotateEvent(string name, int rotateX, int rotateY, int rotateZ, bool anim = true)</span>
                This function rotates the transform (the emplacement of the object), making his image rotate as well.
                To see some examples of rotation, remove the comment block of the function EventPage4 of EventTest.lua,
                at Examples/Lua/Events.
                <li>name = The name of the event.</li>
                <li>rotateX, rotateY, rotateZ = The angle of rotation, in degrees. Make it upper than 360 for more than
                    one turn, and negative to do an inverse rotation.</li>
                <li>anim = Will this be animated? True by default.</li>

            </p>
            <br>
            <p>
                <span class="function">SetTone(bool anim, bool waitEnd, int r = 255, int g = 255, int b = 255, int a = 0)</span>
                Adds an image above all previous images that sets a selected tone.
                <li>anim = Do you want to use an anim? (true) or do you want the tone to be directly set? (false)</li>
                <li>waitEnd = If there's an anim, do you want to wait until the end of the anim?</li>
                <li>r, g, b, a = The color and alpha of the tone. Do not set an alpha of 255, or you'll not be able to
                    see the other elements anymore. Clamped from 0 to 255, must be an integer.</li>
            </p>
            <br>
            <p>
                <span class="function">SetBattle(string encounterName, bool quickAnim = false, bool forceNoFlee = false)</span>
                Sets a battle with a chosen encounter.
                <li>encounterName = The name of the encounter. If the first encounter character is a '#', don't forget
                    it.</li>
                <li>quickAnim = Do you want the battle intro to be quick? (Do you remember Undyne's battle? It looks
                    like this.)</li>
                <li>forceNoFlee = If this is set to true, the player will not be able to flee in the next battle, except
					if your encounter sets "flee" to true.</li>
            </p>
            <br>
            <p>
                <span class="function">GameOver(string deathText = null, string deathMusic = null)</span>
                The title of this function explains all that you have to know about this function.
                <li>deathText = The death text that replaces the current death text. If you want the text to be on
                    several pages, use "\r". If you want a simple chariot return, use "\n".
                    <br>WARNING: DO NOT PUT TEXT COMMANDS AS [voice:sans] IN THE TEXT, OR THE GAME WILL FREEZE!
                    This problem will be solved soon, don't worry.</li>
                <li>deathMusic = The name of the death music. The music must be in YourMod/Audio!</li>
            </p>
            <br>
            <p>
                <span class="function">SetReturnPoint(int index)</span>
                This function is the replacement of a normal "while" iteration, with GetReturnPoint. It generates a
                variable named "ReturnPoint" + index. See "GetReturnPoint" for an example.
                <li>index = The ID of the return point.</li>
            </p>
            <br>
            <p>
                <span class="function">GetReturnPoint(int index)</span>
                This function is the replacement of a normal "while" iteration, with SetReturnPoint. It sets the current
                text index to the selected return point.
                <li>index = The ID of the return point.</li>

                Example:

                <div class="code-container">
                   <pre class="brush: lua;">
                    function someWhileShit()
                        int i = 0
                        while(i < 5)
                            i  = i + 1
                        end
                    end
                    </pre>

                    is the same as<br>

                    <pre class="brush: lua;">
                    function someReturnPointShit()
                        int i = GetGlobal("i")
                        if (i == null)
                            i = 0
                        end
                        SetReturnPoint(1)
                        if (i < 5)
                            i = i + 1
                            SetGlobal("i", i)
                            GetReturnPoint(1)
                        end
                    end
                    </pre>
                </div>
                <br>(Yeah, that's messy af)
            </p>
            <br>
            <p>
                <span class="function">WaitForInput()</span>
                This function makes wait the program until the player presses the confirm button (Enter or Z).
            </p>
            <br>
            <p>
                <span class="function">SetEventPage(string eventName, int pageID)</span>
                This function sets the event page ID for a chosen event. Not tested, so it may crash the game.
                <li>eventName = The name of the event.</li>
                <li>pageID = The ID of the page.</li>
            </p>
            <br>
            <p>
                <span class="function">PlayBGMOW(string bgm, float volume)</span>
                Plays a BGM. I'm afraid that there's actually nothing more to say.
                <li>bgm = The name of the bgm. The bgm must be in YourMod/Audio!</li>
                <li>volume = The volume of the bgm, clamped from 0 to 1. For now I have a little problem that forces us
                    to enter the volume of the bgm, but I'll fix it soon, don't worry.</li>
            </p>
            <br>
            <p>
                <span class="function">StopBGMOW(float fadeTime)</span>
                Stops a BGM. You can make it fade, if you want to.
                <li>fadeTime = The time until the bgm will be totally stopped, in seconds. If you don't want any fade,
                    just type "0".</li>
            </p>
            <br>
            <p>
                <span class="function">PlaySoundOW(string sound, float volume)</span>
                Plays a BGM. I'm afraid that there's actually nothing more to say in this function too.
                <li>sound = The name of the sound. The sound must be in YourMod/Sounds!</li>
                <li>volume = The volume of the sound, clamped from 0 to 1. Same problem as the bgm.</li>
            </p>
            <br>
            <p>
                <span class="function">Rumble(float seconds, float intensity = 3, bool fade = false)</span>
                Rumbles the screen for "seconds" seconds, with "intensity" intensity, and set fade to true if you want
				the rumble to fade in intensity.
            </p>
            <br>
            <p>
                <span class="function">Flash(float secondsOrFrames, bool isSeconds = false, int colorR = 255, 
				                       int colorG = 255, int colorB = 255, int colorA = 255)</span>
                Flashes the screen for a given time, with a given color.
                <li>secondsOrFrames = Time of the flash. In frames per default.</li>
                <li>isSeconds = Set it to true to use time in scends instead of in frames.</li>
                <li>colorR, colorG, colorB, colorA = Color of the flash.</li>
            </p>
            <br>
            <p>
                <span class="function">Save()</span>
				Launches the save coroutine.
            </p>
            <br>
            <p>
                <span class="function">Hurt(int damage)</span>
				Hurts the player with the given amount of damage. This is the reverse of Heal()
            </p>
            <br>
            <p>
                <span class="function">Heal(int heal)</span>
				Heals the player with the given amount of heal. This is the reverse of Hurt().
            </p>
            <br>
            <p>
                <span class="function">AddItem(string Name)</span>
				Adds the given database item to the Inventory.
            </p>
            <br>
            <p>
                <span class="function">RemoveItem(int ID)</span>
				Removes the item n°ID of the Inventory. Does nothing if there is not an item at the given index. 
            </p>
            <br>
            <p>
                <span class="function">StopEvent()</span>
				Stops the event right now.
            </p>
            <br>
            <p>
                <span class="function">RemoveEvent(string Name)</span>
				Remove the event named "Name" of the scene. It'll not be accessible anymore!
            </p>
            <br>
            <p>
                <span class="function">AddMoney(int amount)</span>
				Add "amount" money to the Player's money count. You can use a negative number to remove money.
            </p>
        </div>

        <div class="tab-pane text-style" id="cyf-inventory">
            <h2>Create Your Frisk: The Inventory System</h2>
            <p>
                It was hard to customize items and such in Unitale, right? Plus, items won't go if you used them,
                because they are the only ones that will ever love you. But now, nobody loves you at all, because items
                can be deleted and the Inventory System has been simplified! Here are the functions that are created to
                help you with this hellish mechanism that are added items.
                <br>Don't forget to use it like this: Inventory.function!
            </p>
            <br>
            <p>
                <span class="function">GetItem(int index)</span>
                Returns the name of the item of the inventory at the given index.
                <li>index = Index of the chosen item.</li>
            </p>
            <br>
            <p>
                <span class="function">SetItem(int index, string Name)</span>
                Sets the item of the inventory with the given name at the given index.
                <li>index = Index of the chosen item.</li>
                <li>Name = Name of the to-be-created item.</li>
            </p>
            <br>
            <p>
                <span class="function">SetInventory(string[] names)</span>
                Sets the inventory of the Player. Must be used after AddCustomItems if you added custom items.
                <br>You have to use it like this: Inventory.SetInventory({"item1", "item2"});
                <li>names = The names of the items.</li>
            </p>
            <br>
            <p>
                <span class="function">AddCustomItems(string[] names, int[] types)</span>
                Have to be used before setting the inventory if you added custom items. Add to the library of items the
                strings given in the first table, with their type in the second table. If you don't do this, the engine
                will not recognise your newly created items.
            <li>names = The names of your exclusive items.</li>
            <li>types = The types of your exclusive items. Must be at the same size of the first array. Types: </li>
			    <ul>
				    <li>0 = Consumable. Will be deleted upon use.</li>
				    <li>1 = Weapon. You will be able to equip this item as a weapon.</li>
				    <li>2 = Armor. You will be able to equip this item as an armor.</li>
				    <li>3 = Special. This item will not be deleted upon use.</li>
				</ul>
				You have to use it like this: Inventory.AddCustomItems({"item1", "item2"}, {1, 0});
            </p>
            <br>
            <p>
                <span class="function">NoDelete</span>
                Inventory.NoDelete = true --> Tells the engine that the next item will not be deleted if consumable.
            </p>
            <br>
            <p>
                <span class="function">SetAmount(int amount)</span>
                Used for Weapon and Armor type custom items. Sets the amount of ATK/DEF added by the equipped item.
                <li>amount: amount of ATK/DEF added by your equipment if equipped.</li>
            </p>
        </div>
		
        <div class="tab-pane text-style" id="cyf-ppcollision">
			<h2>Create Your Frisk: The Pixel-Perfect Collision System</h2>
			<p>
				Do you have enough of all of these rectangular collisions and thousands of lines of special collision 
				condition in OnHit()? Well the Pixel-Perfect Collision System is made for YOU!
				<br>You can use it for the entire encounter with SetPPCollision(bool) or on a special bullet with 
				bullet.ppcollision. The bullet's ppcollision value will override the encounter's ppcollision value.
				<br>Wait a minute before rushing on the Pixel-Perfect Collision System like this...or wait, do as you want! 
				Now the Pixel-Perfect Collision System supports bullets with scale!	You can rotate the bullets (this is why 
				it took me one week to make it) and move them like you always did!
				<br>One more thing: the Pixel-Perfect Collision System is more ressourceful than the Normal Collision 
				System. So, I'll warn you: you better use the Pixel-Perfect Collision System for the bullets that needs 
				it, and not for all bullets.
				<br>A last tip: Don't use Pixel-Perfect for non-damaging bullets, it'll only add some lag!
			</p>
			<br>
			<p>
				<span class="function">Bullet.ppcollision</span>
				The collision system of the bullet. If true, you'll use the Pixel-Perfect Collision system for this bullet. 
			</p>
			<br>
			<p>
				<span class="function">SetPPCollision(bool) [E/M/W]</span>
				Setting this to true will force all bullets that don't have a specified collision type to be Pixel-Perfect bullets.
				<br>False by default.
			</p>
        </div>
		
        <div class="tab-pane text-style" id="cyf-text">
			<h2>Create Your Frisk: The Text Object</h2>
			<p>
				A lot of people were waiting for this one: I'm proud to present you the Text Object! With it, you can create a text
				wherever you want, with a bubble or without a bubble, with a speech thing or without a speech thing... It's 100%
				your choice!<br>
				Plus, if you choose to make a bubble, the height of the bubble is automatically computed, but you can still choose the 
				bubble's height if you want to.<br>
                Per default, a Text Object has a bubble with a auto computed height with no speech thing. Plus, they are hidden when you 
				enter and come out of ENEMYDIALOGUE. If you want to change this, you have a lot of functions to do so. Look down to see them!
			</p>
			<br>
			<p>
				<span class="function">CreateText(Table text, Table position, int textWidth, string layer = "BelowPlayer", int bubbleHeight = -1) returns TextObject [E/M/W]</span>
				This function creates a Text Object and returns it. However, as you can see, a lot of parameters are needed, here is what you should put:
				<ul>
				    <li>text - Your text, like you set them in BattleDialog() or enemy.currentdialogue: {"this is a text n°1", "this is a text n°2}</li>
				    <li>position - The position of the center of the object. Sorry if it may be hard to place it, but you'll be able to use SetPivot() 
					to place it better afterwards. You only need two numbers, if you add more nothing will be done with them: {320, 240}</li>
				    <li>textWidth - You'll always need the text's width! The bubble's width will be 20px larger than the text's width. One last thing, 
					bubbles have a minimum width of 40: 150</li>
				    <li>layer - The sprite layer of the Text Object. If it doesn't exist, it returns an error. This argument is optional, the Text Object 
					will be in the layer BelowPlayer if you don't set this value: "BelowArena"</li>
				    <li>bubbleHeight - You can enter a static bubble height here if you want to. Per default, it'll be -1, the value used to auto compute 
					the height of the bubble. However, bubbles have a minimum height of 40: 150</li>
				</ul>
			</p>
			<br>
			<p>
				<span class="function">Text.progressmode</span>
				This value is used to set the progression mode of the text: "auto" will launch the next line after a given number of frames set in 
				Text.SetAutoWaitTimeBetweenFrames(), "manual" will need the player to press the Confirm button to launch the next line and "none"
				means that you'll need to manually display the next line in your code with Text.NextLine().
			</p>
			<br>
			<p>
				<span class="function">Text.x</span>
				The absolute x position of the bubble, from the bottom left corner of the screen. This value depends from the object's pivot.
			</p>
			<br>
			<p>
				<span class="function">Text.y</span>
				The absolute y position of the bubble, from the bottom left corner of the screen. This value depends from the object's pivot.
			</p>
			<br>
			<p>
				<span class="function">Text.textWidth</span>
				Width of the text.  If the value is lower than 16, it'll be 16.
			</p>
			<br>
			<p>
				<span class="function">Text.bubbleHeight</span>
				Height of the bubble. If the value is lower than 40, it'll be 40.
			</p>
			<br>
			<p>
				<span class="function">Text.layer</span>
				The sprite layer of the Text Object. If it doesn't exist, it returns an error. "BelowPlayer" per default.
			</p>
			<br>
			<p>
				<span class="function">Text.SetText(Table text)</span>
				Sets the text of the Text Object. If it became inactive, it'll reactive itself right away.
			</p>
			<br>
			<p>
				<span class="function">Text.AddText(Table text)</span>
				Adds the given text to the current text. Acts like Text.SetText() if the text is already finished.
			</p>
			<br>
			<p>
				<span class="function">Text.SetFont(string fontName)</span>
				Sets the font of the text. Can be easily replaced by the text command [font], but whatever.<br>
				Returns an error if the font doesn't exist.
			</p>
			<br>
			<p>
				<span class="function">Text.SetEffect(string effect, float intensity)</span>
				Sets the effect of the text. Can be easily replaced be the text command [effect], but whatever.<br>
				Can only take "none", "twitch", "shake" or "twitch" as effect. If you want to use the basic intensity value, enter -1.
			</p>
			<br>
			<p>
				<span class="function">Text.IsTheLineFinished() returns bool</span>
				If the current line is finished, this function will return true. Else, it'll return false.
			</p>
			<br>
			<p>
				<span class="function">Text.IsTheTextFinished() returns bool</span>
				If the entire text is finished, this function will return true. Else, it'll return false.
			</p>
			<br>
			<p>
				<span class="function">Text.ShowBubble(string side = null, int/string position = null)</span>
				Use this function to add a bubble to the text. You can also set the side and the position of the speech thing if you 
				want to, look at Text.SetSpeechThingSideAndPosition() to see how to use it.
			</p>
			<br>
			<p>
				<span class="function">Text.SetSpeechThingPositionAndSide(string side, int/string position = center)</span>
				Sets the size and position of the speech thing. The side can only take "left", "right", "up", "down" or "none" as value.<br>
				"none" is used to hide the speech thing, the other directions are the side where the speech thing is.<br>
				You have two ways to set the speech thing's position: 
				<ul>
				    <li>An int for static position from the bottom of the bubble for "left" and "right" and from the left for "up" and "down".
					These are clamped from 0 to the bubble's height for "left"/"right" and to the bubble's width for "up"/"down".</li>
				    <li>A string for a percentage value. 0% is the bottom for "left"/"right" and the left for "up"/"right", 50% is the middle
					of the side and 100% is the top for "left"/"right" and the right for "up"/"down". The values are clamped from 0% to 100%</li>
				</ul>
			</p>
			<br>
			<p>
				<span class="function">Text.HideBubble()</span>
				A function that hides the bubble.
			</p>
			<br>
			<p>
				<span class="function">Text.NextLine()</span>
				Shows the next line of the text istantly, not regarding if the current line is finished nor the current progress mode.
			</p>
			<br>
			<p>
				<span class="function">Text.MoveTo(int x, int y)</span>
				Moves the text to the given coordinates. These values depends from the object's pivot.
			</p>
			<br>
			<p>
				<span class="function">Text.SetPivot(float x, float y)</span>
				Sets the pivot of the object. The pivot is the value where the text's position is set: the basis value is {0.5, 0.5}, 
				but if you set it to {0, 0}, each time you modify the object's position, you'll set the position of the bottom left corner of the 
				object instead of its center. {1, 1} is the top right corner, {0, 1} the top left corner and {1, 0} the bottom right corner.
			</p>
			<br>
			<p>
				<span class="function">Text.SetAutoWaitTimeBetweenTexts(int time)</span>
				Sets the time to wait after each line to launch the next line in the "auto" progress mode. The value time is given in frames.
			</p>
			<br>
			<p>
				<span class="function">Text.MoveTo(int x, int y)</span>
				Moves the text at the position x, y from the bottom left corner of the window.
			</p>
			<br>
			<p>
				<span class="function">Text.SetPivot(int x, int y)</span>
				Sets the pivot of the text object.
			</p>
		</div>		

        <div class="tab-pane text-style" id="api-projectile">
            <h2>Projectile management</h2>
            <p>Projectile management is, starting from 0.2.0, available from both the encounter and the wave scripts. As
                a result it is now in its own section.</p>
            <p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>CreateProjectileLayer(name, relatedTag = "", before = false) [E/W]</span>
				Create a projectile layer where you'll be able to put projectiles. You'll choose another layer to create it, 
				and it'll be created after the selected layer. If before = true, it'll be created before this layer.<br>
				There is one basis layer: "" = The normal bullet layer.
            </p>

            <p>
                <span class="function">CreateProjectile(spritename, initial_x, initial_y, layer = "") returns Bullet [E/W]</span>
                Create a bullet that you can store and modify, with its spawn position relative to the center of the
                arena. The hitbox of it is a rectangle around the sprite, unless you use the PP mode.<br>
				You can add a layer if you want, otherwise the bullet will be in the normal bullet layer.
            </p>

            <p>
                <span class="function">CreateProjectileAbs(spritename, initial_x, initial_y, layer = "") returns Bullet [E/W]</span>
                Same as CreateProjectile, but spawn position is relative to the bottom left of the screen instead of the
                arena's center. The hitbox of it is a rectangle around the sprite, unless you use the PP mode.<br>
				You can add a layer if you want, otherwise the bullet will be in the normal bullet layer.
            </p>

            <p>
                <span class="function">The Bullet object</span>
                This is what you use to move around the bullet and store values in it. You can store a bunch in a table
                and modify them. The functions and variables you can use on a Bullet are as follows.
            <ul>
                <li>Bullet.sprite - the Bullet's sprite component. See the Sprites &amp; Animation section for usage
                    details. NOTE: Currently, modifying the sprite does not change the bullet's hitbox yet; it's always
                    the original square of the bullet when it was created.
                </li>
                <li>Bullet.x (readonly) - The X position of this bullet, relative to the arena's center. A bullet at x=0
                    and y=0 will be at the center of the arena.
                </li>
                <li>Bullet.y (readonly) - The Y position of this bullet, relative to the arena's center.</li>
                <li>Bullet.absx (readonly) - The X position of this bullet, relative to the bottom left corner of the
                    screen.
                </li>
                <li>Bullet.absy (readonly) - The Y position of this bullet, relative to the bottom left corner of the
                    screen.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Bullet.ppcollision - The collision system of the bullet. 
                    If true, you'll use the Pixel-Perfect Collision system for this bullet. I greatly recommand you to see 
                    the Pixel-Perfect Collision System section if you want to use it.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Bullet.ppchanged - Determines if the local collision 
                    system of the bullet has been set. True if it was, false otherwise.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>Bullet.layer - Layer of the bullet. (bullet layer)
                </li>
                <li>Bullet.isactive (readonly) - Used to check if the bullet is still active. If the bullet has been
                    removed, this will be false; otherwise true.
                </li>
                <li>Bullet.Move(x, y) - Move this bullet x pixels to the right and y pixels up. Negative x will move it
                    to the left, and negative y will move it downwards.
                </li>
                <li>Bullet.MoveTo(x, y) - Move this bullet to this position immediately, relative to the arena's
                    center.
                </li>
                <li>Bullet.MoveToAbs(x, y) - Move this bullet to this position immediately, relative to the bottom left
                    corner of the screen.
                </li>
                <li>Bullet.Remove() - destroys this bullet. You can continue retrieving its x, y, absx and absy
                    properties. Trying to move a removed bullet will give you a Lua error. If you're not sure your
                    bullet still exists, check Bullet.isactive first.
                </li>
                <li>Bullet.SetVar(your_variable_name, value) - Set a variable on this bullet that you can retrieve with
                    Bullet.GetVar(your_variable_name). Similar in use to SetGlobal(), but you can use this to store
                    specific variables on a per-bullet basis.
                </li>
                <li>Bullet.GetVar(your_variable_name) - Get a variable that you previously set using Bullet.SetVar().
                </li>
                <li>Bullet.SendToTop() - Moves this bullet on top of all currently existing projectiles. Note that newly
                    spawned projectiles are always on top by default; this function is mostly to move existing bullets
                    to the top.
                </li>
                <li>Bullet.SendToBottom() - Moves this bullet below all currently existing projectiles.</li>
				<li><span style="color:#ffff00">&ltCYF&gt </span>Bullet.ResetCollisionSystem() - Resets the collision system of the bullet to the default one.</li>
				<li><span style="color:#ffff00">&ltCYF&gt </span>Bullet.isColliding() - Returns true if the player is colliding with the bullet. Will be PP if the bullet is PP.</li>
				<li><span style="color:#ffff00">&ltCYF&gt </span>Bullet.isPersistent - Permits to not remove this bullet at the end of the wave if you're not in retromode.</li>
            </ul>
            <p>Here is an example of a bullet that chases you pretty fast, but slows down as it gets closer. You have to
                keep moving to dodge it. This is a fairly basic example that makes use of the Player object.</p>
            <div class="code-container">
<pre class="brush: lua;">
oursprite = "hOI!!!!"
--Create a new bullet, starting in the upper right corner.
chasingbullet = CreateProjectile(oursprite, Arena.width/2, Arena.height/2)
--Set initial speed of 0 in both directions.
chasingbullet.SetVar('xspeed', 0)
chasingbullet.SetVar('yspeed', 0)

function Update()
	-- Get the x/y difference between the player and bullet
	local xdifference = Player.x - chasingbullet.x
	local ydifference = Player.y - chasingbullet.y
	-- We create a new speed by first halving the original speed
	-- Then we add a small fraction of the position difference between the player and bullet.
	-- The result is a bullet that moves faster as it's further away, and slower when it's closer.
	-- The value we're dividing by is experimental. Experimenting with numbers is essential!
	local xspeed = chasingbullet.GetVar('xspeed') / 2 + xdifference / 100
	local yspeed = chasingbullet.GetVar('yspeed') / 2 + ydifference / 100
	-- Now move the bullet...
	chasingbullet.Move(xspeed, yspeed)
	-- ...and store our new speeds.
	chasingbullet.SetVar('xspeed', xspeed)
	chasingbullet.SetVar('yspeed', yspeed)
end
</pre>
            </div>
            <p>Below is an example of a fully scripted Wave using most of these functions. It will spawn a projectile
                above the arena (assuming a width/height of 155/130), give it a random speed in the X direction, and
                drop it downwards. If it hits the bottom border of the arena, it'll bounce back up. Otherwise it'll
                continue falling off the screen.</p>
            <div class="code-container">
<pre class="brush: lua;">
spawntimer = 0
bullets = {}

-- This happens every frame while you're defending. --
function Update()
	spawntimer = spawntimer + 1 --Add 1 to the counter every frame

	-- This part takes care of bullet spawning. --
	if spawntimer%30 == 0 then  --This happens every 30 frames.
		local posx = 30 - math.random(60) --Set a random X position between -30 and 30
		local posy = 65 --and set the Y position to 65, on the top edge of the arena.
		local bullet = CreateProjectile('hOI!!!!', posx, posy) -- Create projectile with sprite hOI!!!!.png
		bullet.SetVar('velx', 1 - 2*math.random()) -- We'll use this for horizontal speed. Random between -1/1
		bullet.SetVar('vely', 0) -- We'll use this for fall speed. We're starting without downward movement.
		table.insert(bullets, bullet) -- Add this new Bullet object to the bullets table up there.
	end

	-- This part updates every bullet in the bullets table. --
	for i=1,#bullets do -- #bullets in Lua means 'length of bullets table'.
		local bullet = bullets[i] -- For convenience, so we don't have to use bullets[i]
		local velx = bullet.GetVar('velx') -- Get the X/Y velocity we just set
		local vely = bullet.GetVar('vely')
		local newposx = bullet.x + velx -- New position will be old position + velocity
		local newposy = bullet.y + vely
		if(bullet.x > -Arena.width/2 and bullet.x < Arena.width/2) then -- Are we inside the arena (horizontally)?
			if(bullet.y < -Arena.height/2 + 8) then -- And did we go past the bottom edge?
				bullet.MoveTo(bullet.x, -Arena.height/2 + 8) -- Don't move it past the edge!
				-- Note the +8; I know the bullet sprite I'm using is 16x16.
				-- Without adding 8 it'll be inside the edge.
				vely = 4 --reverse bounce direction
			end
		end
		vely = vely - 0.04 -- Apply gravity
		bullet.MoveTo(newposx, newposy) -- and finally, move our bullet
		bullet.SetVar('vely', vely) -- and store our new fall speed into the bullet again.
	end
end</pre>
            </div>

            <p>
                <span class="function">OnHit(bullet)</span>
                Every time a bullet collides with a player, this function gets called on the script that created the
                projectile. The bullet object in this function can be modified if you feel like it. For more information
                on the bullet object, see the documentation above.<br>
                <br>
                If you implement this function in your script, you have to define manually what should happen after
                bullet collision. This is what allows you to create orange, cyan and green projectiles, and much much
                more. If you don't implement this function in your wave script, it'll stick to the default of dealing 3
                damage on hit. Below are multiple examples of how to use this function.</p>
            <div class="code-container">
  <pre class="brush:lua;">
--Defining your own damage for this wave
function OnHit(bullet)
	Player.Hurt(10)
end
  
--Replicating cyan bullet functionality
function OnHit(bullet)
	if Player.isMoving then
		Player.Hurt(5)
	end
end

--Replicating orange bullet functionality; opposite condition of cyan
function OnHit(bullet)
	if not Player.isMoving then
		Player.Hurt(5)
	end
end

--Replicating green bullet functionality
function OnHit(bullet)
	Player.Heal(1)
	bullet.Remove()
end
</pre>
            </div>
        </div>

        <div class="tab-pane text-style" id="api-animation">
            <h2>Sprites &amp; Animation</h2>
            <p>Projectile management is, starting from 0.2.0, available from both the encounter and the wave scripts. As
                a result it is now in its own section.</p>
            <p>
                <span class="function"><span style="color:#ffff00">&ltCYF&gt </span>CreateLayer(name, relatedTag = "BasisNewest", before = false) [E/W]</span>
                Create a layer where you'll be able to put sprites. You'll choose another layer to create it, and it'll be
				created after the selected layer. If before = true, it'll be created before this layer.<br>
				Basis layers: 
				<ul>
				    <li>"Bottom": Under everything, even the background.</li>
				    <li>"BelowUI": Above the background.</li>
				    <li>"BelowArena": Above the background and the UI.</li>
				    <li>"BelowPlayer": Above the background, the UI and the Arena.</li>
				    <li>"BelowBullet": Above the background, the UI, the Arena and the Player.</li>
				    <li>"Top": Above everything.</li>
				</ul>
            </p>
			
            <p>
                <span class="function">CreateSprite(spritename, layer = "BelowArena") returns Sprite [E/W]</span>
                Create a sprite in the far bottom left of the screen (at 0, 0) that you can modify in many ways.<br>
				You can add a layer if you want, else the sprite will be below the arena.
            </p>

            <p>
                <span class="function">The Sprite object</span>
                The Sprite object has many controls intended for animation. There is a working intermediate example
                included in the Examples folder.
            <ul>
                <li>sprite.isactive (readonly) - <span style="color:#ffff00">&ltCYF&gt </span>if retromode: true if sprite has been removed, false otherwise.<br>
				if not retromode: false if sprite has been removed, true otherwise.</li>
                <li>sprite.spritename (readonly) - <span style="color:#ffff00">&ltCYF&gt </span>Returns the name of the sprite used by this sprite from the Sprites/ folder.</li>
                <li>sprite.x - horizontal position of sprite relative to bottom left of screen, measured from its
                    pivot/anchor point (center by default). If parented, x position is relative to parent
                </li>
                <li>sprite.y - vertical position of sprite relative to bottom left of screen, measured from its
                    pivot/anchor point (center by default). If parented, y position is relative to parent
                </li>
                <li>sprite.absx - horizontal position of sprite relative to bottom left of screen, ignoring its
                    pivot/anchor point and all parents.
                </li>
                <li>sprite.absy - vertical position of sprite relative to bottom left of screen, ignoring its
                    pivot/anchor point and all parents.
                </li>
                <li>sprite.xscale - horizontal scaling of sprite (1.0 by default). 2.0 is twice as large, 0.5 half as
                    large
                </li>
                <li>sprite.yscale - vertical scaling of sprite (1.0 by default). 2.0 is twice as large, 0.5 half as
                    large
                </li>
                <li>sprite.width (readonly) - width of this sprite's image in pixels. This never changes until the
                    sprite itself is swapped
                </li>
                <li>sprite.height (readonly) - height of this sprite's image in pixels. This never changes until the
                    sprite itself is swapped
                </li>
                <li>sprite.color - get or set the color, as a table of 3 values from 0 to 1. For example, sprite.color =
                    {1.0, 0.0, 0.0} makes it red. This actually overlays the sprite's original color, so if you want
                    full control over the color make sure your sprite is white. Black areas are not affected by
                    coloration.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>sprite.color32 - get or set the color, as a table of 3 values from 0 to 255. For example, sprite.color =
                    {255, 0, 0} makes it red. This actually overlays the sprite's original color, so if you want
                    full control over the color make sure your sprite is white. Black areas are not affected by
                    coloration.
                </li>
                <li>sprite.alpha - get or set sprite transparency, from 0 to 1.</li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>sprite.alpha32 - get or set sprite transparency, from 0 to 255.</li>
                <li>sprite.rotation - get or set sprite rotation, in degrees. It's clamped between 0 and 360, so if you
                    change it to 365 it becomes 5.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>sprite.layer - the current layer of the sprite. You can set it, but if the layer doesn't exists, it 
				does nothing. Default: "BelowArena"
                <li><span style="color:#ffff00">&ltCYF&gt </span>sprite.loopmode - sets the loop mode of SetAnimation functions launched after that command. Can be:
				    <ul>
					    <li>LOOP - The default mode: when the animation is finished, it plays again. animcomplete is always true with this mode.</li>
					    <li>ONESHOT - Plays the animation once, and keep the last frame of the animation.</li>
					    <li>ONESHOTEMPTY - Same as ONESHOT, except that the last frame will be an empty sprite.</li>
					</ul>
                <li><span style="color:#ffff00">&ltCYF&gt </span>sprite.animcomplete - when an animation is played, that variable tells you if the animation is complete.<br>
				    false if no animation has been launched yet, if the loop mode is LOOP or if the animation isn't finished, true otherwise.
                <li>sprite.Set("new_sprite") - change the sprite's image. It retains its scaling and rotation. If you
                    have an animation running with SetAnimation, the animation will override your sprite change.
                </li>
                <li>sprite.SetParent(other_sprite_object) - parents <i>sprite</i> to <i>other_sprite_object</i>. This
                    will make the original sprite move along with the object it's parented to.
                </li>
                <li>sprite.SetPivot(x, y) - changes the point the sprite rotates/scales around; (0,0) is bottom left of
                    sprite, (1,1) is top right. You can have values outside of the 0-1 range, too.
                </li>
                <li>sprite.SetAnchor(x, y) - change the point your sprite anchors to when moving. Mainly noticeable when
                    rescaling the parent sprite, and you want to have this sprite stick to a certain edge of it. x/y
                    should be in 0-1 range.
                </li>
                <li>sprite.MoveTo(x, y) - same as setting x and y simultaneously.</li>
                <li>sprite.MoveToAbs(x, y) - used to move a sprite to an absolute screen position, regardless of parent
                    settings. The sprite itself will remain parented.
                </li>
                <li>sprite.Scale(xscale, yscale) - same as setting xscale and yscale simultaneously</li>
                <li>sprite.SetAnimation(sprite_table) to do frame-by-frame animation at 30FPS. Example:
                    sprite.SetAnimation({"sans_head1", "sans_head2", "sans_head3"})
					<br><span style="color:#ffff00">&ltCYF&gt </span>Now it can use sprites with different sizes!
                </li>
                <li>sprite.SetAnimation(sprite_table, time_per_frame) to do frame-by-frame animation with your own time
                    between frames, in seconds. If time_per_frame is 1, it takes 1 second to move to the next sprite.
					<br><span style="color:#ffff00">&ltCYF&gt </span>Now it can use sprites with different sizes!
                </li>
                <li>sprite.StopAnimation() - stop the frame-by-frame animation if it was running. Also changes back to
                    the sprite it had before the animation, or whenever you last called sprite.Set().
                </li>
                <li>sprite.SendToTop() - sends this sprite to the top of its layer's hierarchy. If a sprite has 5
                    children for instance, you can use this to rearrange them internally. However, child sprites will
                    always appear on top of their parents, regardless of this function being called.
                </li>
                <li>sprite.SendToBottom() sends this sprite to the bottom of its layer's hierarchy. Similar rules apply
                    as with SendToTop().
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>sprite.MoveBelow(other_sprite_object) - if the two sprites have the same parent, it'll move this 
                sprite just below the other sprite.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>sprite.MovaAbove(other_sprite_object) - if the two sprites have the same parent, it'll move this 
                sprite just above the other sprite.
                </li>
                <li><span style="color:#ffff00">&ltCYF&gt </span>sprite.Dust(playDust = true, removeObject = false) - dusts and disables this sprite. 
                    Will remove a bullet or sprite if removeObject is set to true.
					Set playSound to false to deactivate the dusting sound.<
                </li>
                <li>sprite.Remove() - remove this sprite. Calling anything other than isactive after this will give you
                    an error.
                </li>

            </ul>
            <p>The animation script used in the example is shown below for reference.</p>
            <div class="code-container">
<pre class="brush: lua;">
-- First, we can create the torso, legs and head.
sanstorso = CreateSprite("sans/sanstorso")
sanslegs = CreateSprite("sans/sanslegs")
sanshead = CreateSprite("sans/sanshead1")

--We parent the torso to the legs, so when you move the legs, the torso moves too. 
--We do the same for attaching the head to the torso.
sanstorso.SetParent(sanslegs)
sanshead.SetParent(sanstorso)

--Now we adjust the height for the individual parts so they look more like a skeleton and less like a pile of bones.
sanslegs.y = 240
sanstorso.y = -5 --The torso's height is relative to the legs they're parented to.
sanshead.y = 40 --The head's height is relative to the torso it's parented to.

--We set the torso's pivot point to halfway horizontally, and on the bottom vertically, 
--so we can rotate it around the bottom instead of the center.
sanstorso.SetPivot(0.5, 0)

--We set the torso's anchor point to the top center. Because the legs are pivoted on the bottom (so rescaling them only makes them move up),
--we want the torso to move along upwards with them.
sanstorso.SetAnchor(0.5, 1)
sanslegs.SetPivot(0.5, 0)

--Finally, we do some frame-by-frame animation just to show off the feature. You put in a list of sprites,
--and the time you want a sprite change to take. In this case, it's 1/2 of a second.
sanshead.SetAnimation({"sans/sanshead1", "sans/sanshead2", "sans/sanshead3"}, 1/2)

function AnimateSans()
	sanslegs.Scale(1, 1+0.1*math.sin(Time.time*2))
	sanshead.MoveTo(2*math.sin(Time.time), 40 + 2*math.cos(Time.time))
	sanshead.rotation = 10*math.sin(Time.time + 1)
	sanstorso.rotation = 10*math.sin(Time.time + 2)
end
</pre>
            </div>

        </div>

        <div class="tab-pane text-style" id="mercy">
            <h2>* YOU WON!<br>
                * You earned 0 EXP and 0 gold.<br>
                * also the nav menu is broken now</h2>
        </div>


    </div>
</div>

<div class="container">
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="img/fightbt_0.png" height="42">
    </div>
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="img/actbt_0.png" height="42">
    </div>
    <div class="col-xs-3"><img class="centerbt black" alt="Undertale fake button" src="img/itembt_0.png" height="42">
    </div>
    <div class="col-xs-3"><a href="#mercy" data-toggle="tab"><img class="centerbt black" alt="Undertale fake button"
                                                                  src="img/mercybt_0.png" width="110" height="42"></a>
    </div>
</div>
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/show_hide_comments.js"></script>
</body>
</html>